  const openingPhaseScore = 5599;
  const endgamePhaseScore = 600;

  // material score
  const materialWeights = [
    // opening material score
    [0, 98, 297, 300, 496, 901, 19999, -101, -285, -314, -504, -890, -20000],

    // endgame material score
    [0, 95, 301, 300, 494, 908, 20000, -102, -293, -307, -498, -889, -20002]

  ];

  // piece-square tables
  const pst = [
    // opening phase scores
    [
      // pawn
      [
           0,   0,   0,   0,   0,   0,   0,   0,   o, o, o, o, o, o, o, o,
          29,  45,  53,  40,  41,  65,  34,  57,   o, o, o, o, o, o, o, o,
          23,  43,  40,  57,  16,  37,  37, -23,   o, o, o, o, o, o, o, o,
         -23, -14,   0,  44,  19,   2, -10,  20,   o, o, o, o, o, o, o, o,
          21,  10,  29,  -4,  -1,  -9,  22, -21,   o, o, o, o, o, o, o, o,
         -19, -18,  12,   5,  11, -17,  12,  -2,   o, o, o, o, o, o, o, o,
           6,  28,  19,  24,  24,  11,  22,   5,   o, o, o, o, o, o, o, o,
           0,   0,   0,   0,   0,   0,   0,   0,   o, o, o, o, o, o, o, o
      ],

      // knight
      [
         -38, -10, -10,  -2,   3, -10, -10, -20,   o, o, o, o, o, o, o, o,
          -1,  26,  14, -19,  13,   6,   5, -10,   o, o, o, o, o, o, o, o,
          10,  25,  34,   3, -10,  -3,  29,   1,   o, o, o, o, o, o, o, o,
          11,   9,  34,   9,   9, -14,  29,   2,   o, o, o, o, o, o, o, o,
         -32, -13, -14,  24,  32,  26,  19,  14,   o, o, o, o, o, o, o, o,
         -12, -17, -14,  25,  25, -13,  29,   9,   o, o, o, o, o, o, o, o,
         -21,  11,  19, -19,  10, -11,  21,  12,   o, o, o, o, o, o, o, o,
         -20, -34, -21,   7, -34,   8,  14, -20,   o, o, o, o, o, o, o, o
      ],

      // bishop
      [
          -4, -13, -11,  12, -15, -14, -16, -10,   o, o, o, o, o, o, o, o,
         -30,  18,  24,   2, -24, -13,  -2,   8,   o, o, o, o, o, o, o, o,
         -33,  20, -24,  16, -11, -24, -21,  13,   o, o, o, o, o, o, o, o,
         -20, -14,  20,   9, -18,  24,  34, -14,   o, o, o, o, o, o, o, o,
          14,  19,  36,  34,  -8,   6,  15, -32,   o, o, o, o, o, o, o, o,
         -34, -24,  14,  -3,  31, -24,  24, -34,   o, o, o, o, o, o, o, o,
          14,  19,  25,  28,  13,  29,  34,   2,   o, o, o, o, o, o, o, o,
           4,  14, -34,   8,   2,  14,  -9,  13,   o, o, o, o, o, o, o, o
      ],

      // rook
      [
           6, -10,  22,   6,  -7, -20,  12,  -3,   o, o, o, o, o, o, o, o,
          35,  19,  21,  34,  21,  41,  40,  19,   o, o, o, o, o, o, o, o,
           2,  11,  18,  21,   8, -10,  17,  -3,   o, o, o, o, o, o, o, o,
         -20,  10, -20, -17,  -7, -20,   4,  -1,   o, o, o, o, o, o, o, o,
           2,  15,  24, -18,  12,  12, -19,  12,   o, o, o, o, o, o, o, o,
          12,  -5,  10, -18,  23,  22,   5, -16,   o, o, o, o, o, o, o, o,
         -19,  -3, -16,  -1,  19, -24, -24,   1,   o, o, o, o, o, o, o, o,
          -4, -13, -24,  26,  24,  22,  16, -16,   o, o, o, o, o, o, o, o
      ],

      // queen
      [
         -36,  -7,  -8,   3, -24, -24, -10,  -3,   o, o, o, o, o, o, o, o,
          13, -23,  20, -23,   1,  23,  16,   9,   o, o, o, o, o, o, o, o,
         -15, -24, -10, -16,  18,  19, -17,  13,   o, o, o, o, o, o, o, o,
          11, -22,   6, -14,  22,  26,  13,  14,   o, o, o, o, o, o, o, o,
         -34,   9,  -8,   2, -12,  -5, -24,   3,   o, o, o, o, o, o, o, o,
         -32,  24,  29,  29,  16,  29,  24, -25,   o, o, o, o, o, o, o, o,
          13, -24,  -6, -24,  12,   5,  16, -10,   o, o, o, o, o, o, o, o,
           1,  14, -25, -19,   0, -34,   6, -41,   o, o, o, o, o, o, o, o
      ],

      // king
      [
         -20, -20, -20, -20, -20, -20, -20, -20,   o, o, o, o, o, o, o, o,
         -20, -17, -29, -14, -15, -21, -18, -20,   o, o, o, o, o, o, o, o,
         -39, -25, -20,  -9, -21, -20, -42, -20,   o, o, o, o, o, o, o, o,
         -29, -12, -15, -26, -21, -14, -24, -27,   o, o, o, o, o, o, o, o,
         -20, -26, -17, -24, -30,  -7, -21, -20,   o, o, o, o, o, o, o, o,
         -20, -20, -22, -20, -19, -30, -22, -42,   o, o, o, o, o, o, o, o,
         -44,  -4, -29, -41,  -7, -25, -41, -36,   o, o, o, o, o, o, o, o,
         -18,   4,  26,   2, -22, -15,  21, -10,   o, o, o, o, o, o, o, o
      ]
    ],

    // endgame phase score
    [
      // pawn
      [
           0,   0,   0,   0,   0,   0,   0,   0,   o, o, o, o, o, o, o, o,
          57,  97,  77,  62,  60,  76,  69,  95,   o, o, o, o, o, o, o, o,
          88,  79,  79,  94,  74,  63,  53,  46,   o, o, o, o, o, o, o, o,
          36,  39,  53,  38,  63,  51,  53,  52,   o, o, o, o, o, o, o, o,
          63,  57,  68,  37,  43,  30,  67,  27,   o, o, o, o, o, o, o, o,
          42,  38,  40,  55,  33,  32,  39,  44,   o, o, o, o, o, o, o, o,
          15,  44,  53,  15,  23,  50,  49,  18,   o, o, o, o, o, o, o, o,
           0,   0,   0,   0,   0,   0,   0,   0,   o, o, o, o, o, o, o, o
      ],

      // knight
      [
         -25, -10, -10,  11,   7,  -9, -10, -20,   o, o, o, o, o, o, o, o,
           1,  17,  28,  -3,  18, -18,   7, -10,   o, o, o, o, o, o, o, o,
          10,  14,  32, -14,  10,  16, -19,  -1,   o, o, o, o, o, o, o, o,
         -11,  -5,  33,   9,  24, -14,  27,   0,   o, o, o, o, o, o, o, o,
         -29, -15,  28,   1,  -1,  28,  27,  -5,   o, o, o, o, o, o, o, o,
          -7,  23,  -8,  33,  -1,  28,  24,   5,   o, o, o, o, o, o, o, o,
         -24,   2,  21, -10,  15,   2, -11,  -9,   o, o, o, o, o, o, o, o,
         -20, -12, -31, -12, -12,   8,   9, -20,   o, o, o, o, o, o, o, o
      ],

      // bishop
      [
          -6, -23,  14,   3, -22, -11, -29, -20,   o, o, o, o, o, o, o, o,
         -12,  26,  13, -19,  25, -16,  29,  13,   o, o, o, o, o, o, o, o,
         -10,  -9,   8,  33, -10,  26, -19, -17,   o, o, o, o, o, o, o, o,
          11, -18,  28,  35,   6,  33,  13, -19,   o, o, o, o, o, o, o, o,
          11,  18,   6,  42,   8,  20,  17, -31,   o, o, o, o, o, o, o, o,
          11, -19,  16,  24,  15, -11, -15, -11,   o, o, o, o, o, o, o, o,
          -5,  14,  29,  28,   5,   3, -11,  -9,   o, o, o, o, o, o, o, o,
           0,  14, -19,  12, -12,  -9,   5, -16,   o, o, o, o, o, o, o, o
      ],

      // rook
      [
           3, -34, -13, -25, -33, -31,  13, -23,   o, o, o, o, o, o, o, o,
           6,   6,  19,   9,   2,   9,  14, -29,   o, o, o, o, o, o, o, o,
         -22,  21,  28,   6,   0,  -9,  29,   4,   o, o, o, o, o, o, o, o,
         -27,  28,   9,   0,   4,   6,   0,   8,   o, o, o, o, o, o, o, o,
         -32,  27,  18,   1,  42,   1, -19,   1,   o, o, o, o, o, o, o, o,
          -1,   0,  24,  -1,  29,  34,  -4, -27,   o, o, o, o, o, o, o, o,
          -8, -12,  -1,  12,  25, -13, -18,   5,   o, o, o, o, o, o, o, o,
          -9, -23, -21, -14,  -6,   1,   6, -23,   o, o, o, o, o, o, o, o
      ],

      // queen
      [
         -16,   2,   4,   7, -14, -31, -10, -13,   o, o, o, o, o, o, o, o,
          -3, -12,  16,  -8,   8,  19,   6,  -8,   o, o, o, o, o, o, o, o,
          -9,   1,  18, -11,   9,   8,  -5,   6,   o, o, o, o, o, o, o, o,
           2, -16,   3, -10,   9,   9, -12,  -3,   o, o, o, o, o, o, o, o,
          -4,  18,  11,   5, -13, -10,  -8, -17,   o, o, o, o, o, o, o, o,
         -17,  11,   7,  -2,  11,  20,   7,  -6,   o, o, o, o, o, o, o, o,
         -12, -19,   6,   1,   1,  -7,  19, -10,   o, o, o, o, o, o, o, o,
         -14,   6, -13, -13,  -4, -29,  -3, -20,   o, o, o, o, o, o, o, o
      ],

      // king
      [
         -20, -10, -10, -10, -10, -10, -10, -20,   o, o, o, o, o, o, o, o,
         -10,  19, -10,  22,  20,  -6,  -7, -10,   o, o, o, o, o, o, o, o,
         -32, -15,  10,  27,  34, -14,  -7, -10,   o, o, o, o, o, o, o, o,
         -28,  25, -13,  12,  -4,  32, -19, -29,   o, o, o, o, o, o, o, o,
         -34,   6,   5,   3,  -4,  12,  -2, -16,   o, o, o, o, o, o, o, o,
         -10,  22,  -9,  23,  32,   8, -13, -23,   o, o, o, o, o, o, o, o,
         -24,  20,  15,  10,  24,  13,  -3, -13,   o, o, o, o, o, o, o, o,
         -22,   3,   5,  12,  -1,  13, -15, -16,   o, o, o, o, o, o, o, o
      ]
    ]
  ];
