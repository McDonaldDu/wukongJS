  const openingPhaseScore = 5585;
  const endgamePhaseScore = 601;

  // material score
  const materialWeights = [
    // opening material score
    [0, 98, 294, 300, 496, 902, 19999, -101, -269, -329, -508, -885, -19998],

    // endgame material score
    [0, 92, 303, 303, 491, 912, 20000, -99, -288, -312, -495, -877, -20005]

  ];

  // piece-square tables
  const pst = [
    // opening phase scores
    [
      // pawn
      [
           0,   0,   0,   0,   0,   0,   0,   0,   o, o, o, o, o, o, o, o,
           5,  42,  59,  23,  15,  86,  18,  59,   o, o, o, o, o, o, o, o,
          64,  85,  73,  84, -25,  62,  62, -64,   o, o, o, o, o, o, o, o,
         -57, -57,  -3,  65,  14,  -9, -49,  58,   o, o, o, o, o, o, o, o,
          54,  23,  71, -47, -34, -25,  47, -49,   o, o, o, o, o, o, o, o,
         -40, -48,  41,   8,  38, -37,  30, -10,   o, o, o, o, o, o, o, o,
          -4,  56,  25,  67,  66,   3,  53,  12,   o, o, o, o, o, o, o, o,
           0,   0,   0,   0,   0,   0,   0,   0,   o, o, o, o, o, o, o, o
      ],

      // knight
      [
         -76, -10, -10,  15,  13, -13, -10, -20,   o, o, o, o, o, o, o, o,
          19,  62,  26, -62,  39,   9,  -2, -10,   o, o, o, o, o, o, o, o,
          44,  59,  77,  -7, -47, -31,  72,  22,   o, o, o, o, o, o, o, o,
          45,  22,  77, -19,  -3, -56,  72,  26,   o, o, o, o, o, o, o, o,
         -69, -39, -50,  24,  39,  62,  44,  57,   o, o, o, o, o, o, o, o,
         -48, -59, -57,  54,  53, -35,  67,  43,   o, o, o, o, o, o, o, o,
         -64,  19,  13, -62,  20, -32,  41,  49,   o, o, o, o, o, o, o, o,
         -20, -77, -42,  38, -77,  30,  54, -20,   o, o, o, o, o, o, o, o
      ],

      // bishop
      [
          31, -23, -15,  49, -23, -25, -21, -10,   o, o, o, o, o, o, o, o,
         -56,  48,  67,   3, -67, -28, -15,  35,   o, o, o, o, o, o, o, o,
         -67,  63, -67,  52, -24, -67, -58,  48,   o, o, o, o, o, o, o, o,
          -7, -57,  50,  24, -57,  60,  77, -23,   o, o, o, o, o, o, o, o,
          57,  56,  59,  75, -39, -23,  46, -73,   o, o, o, o, o, o, o, o,
         -73, -67,  33,   3,  58, -67,  66, -74,   o, o, o, o, o, o, o, o,
          55,  32,  50,  56,  24,  71,  49,  27,   o, o, o, o, o, o, o, o,
          47,  57, -66,  36,  20,  56,  -4,  56,   o, o, o, o, o, o, o, o
      ],

      // rook
      [
          12, -17,  63,  16, -20, -56,  40, -14,   o, o, o, o, o, o, o, o,
          51,  30,  23,  59,  15,  76,  50,  -2,   o, o, o, o, o, o, o, o,
          -6,  32,  46,  61,  19, -22,  46,  -6,   o, o, o, o, o, o, o, o,
         -57,  31, -47, -56, -14, -57,  18,  19,   o, o, o, o, o, o, o, o,
          13,  35,  64, -55,  38,  28, -60,  28,   o, o, o, o, o, o, o, o,
          38, -13,  25, -42,  57,  63,  -2, -45,   o, o, o, o, o, o, o, o,
         -52,   4, -40,  -6,  45, -67, -62,   1,   o, o, o, o, o, o, o, o,
         -10, -28, -64,  43,  46,  55,  44, -24,   o, o, o, o, o, o, o, o
      ],

      // queen
      [
         -68,  -8, -18,  16, -48, -51, -10,  22,   o, o, o, o, o, o, o, o,
          47, -62,  59, -66,   1,  64,  44,  47,   o, o, o, o, o, o, o, o,
         -17, -66, -33, -59,  18,  27, -46,  51,   o, o, o, o, o, o, o, o,
          48, -61,   7, -54,  48,  62,  37,  56,   o, o, o, o, o, o, o, o,
         -77,  22, -14, -27, -54, -11, -67,  24,   o, o, o, o, o, o, o, o,
         -73,  67,  72,  72,  13,  72,  67, -55,   o, o, o, o, o, o, o, o,
          52, -66, -13, -67,  34,  29,  36, -10,   o, o, o, o, o, o, o, o,
          40,  56, -46, -36,  17, -77,  30, -77,   o, o, o, o, o, o, o, o
      ],

      // king
      [
         -20, -20, -20, -20, -20, -20, -20, -20,   o, o, o, o, o, o, o, o,
         -20,  -6, -33, -14,  -9, -17,  -4, -20,   o, o, o, o, o, o, o, o,
         -71, -39, -20,  11, -23, -18, -75, -20,   o, o, o, o, o, o, o, o,
         -26,   9, -12, -23, -13,   0, -38, -33,   o, o, o, o, o, o, o, o,
         -20, -45, -12, -32, -45,  18, -15, -19,   o, o, o, o, o, o, o, o,
         -20, -14, -24,  -6, -21, -43, -20, -76,   o, o, o, o, o, o, o, o,
         -85,  33, -15, -53,  28,  -7, -77, -61,   o, o, o, o, o, o, o, o,
         -13,  43,  33,  43, -11,  13,  21,   1,   o, o, o, o, o, o, o, o
      ]
    ],

    // endgame phase score
    [
      // pawn
      [
           0,   0,   0,   0,   0,   0,   0,   0,   o, o, o, o, o, o, o, o,
          15, 126,  61,  27,  28,  69,  56, 126,   o, o, o, o, o, o, o, o,
         115,  90,  90, 136,  72,  51,  17,   3,   o, o, o, o, o, o, o, o,
           2,  13,  46,   4,  70,  27,  47,  33,   o, o, o, o, o, o, o, o,
          79,  64, 100,  20,  34,  -4,  98,   5,   o, o, o, o, o, o, o, o,
          44,  39,  38,  72,  24,  32,  34,  47,   o, o, o, o, o, o, o, o,
          -9,  67,  91, -22,   7,  72,  66,   2,   o, o, o, o, o, o, o, o,
           0,   0,   0,   0,   0,   0,   0,   0,   o, o, o, o, o, o, o, o
      ],

      // knight
      [
         -35, -10, -10,  51,  12, -14, -10, -20,   o, o, o, o, o, o, o, o,
          24,  42,  69, -21,  39, -49, -26, -10,   o, o, o, o, o, o, o, o,
          48,  31,  72, -57,   9,  33, -62,  14,   o, o, o, o, o, o, o, o,
          -5, -18,  73,   0,  32, -57,  67,   7,   o, o, o, o, o, o, o, o,
         -58, -51,  54, -25, -40,  54,  61,  12,   o, o, o, o, o, o, o, o,
          12,  48, -39,  69, -32,  61,  60,  30,   o, o, o, o, o, o, o, o,
         -42,  17,  45, -23,  29,   9, -32,  -6,   o, o, o, o, o, o, o, o,
         -20, -14, -72, -29, -25,  39,  43, -20,   o, o, o, o, o, o, o, o
      ],

      // bishop
      [
          20, -47,  57,  32, -51, -43, -54, -20,   o, o, o, o, o, o, o, o,
           1,  48,  14, -62,  52, -38,  71,  56,   o, o, o, o, o, o, o, o,
         -11, -29,  10,  73, -42,  68, -41, -31,   o, o, o, o, o, o, o, o,
          47, -60,  59,  65, -19,  69,  16, -29,   o, o, o, o, o, o, o, o,
          53,  39,   0,  79, -22,  28,  28, -67,   o, o, o, o, o, o, o, o,
          45, -55,  31,  51,  18, -39, -48, -10,   o, o, o, o, o, o, o, o,
          -8,   6,  71,  65,   0,   1, -31, -10,   o, o, o, o, o, o, o, o,
          40,  56, -41,  47,  -9, -16,  34,  -8,   o, o, o, o, o, o, o, o
      ],

      // rook
      [
          45, -74, -15, -45, -66, -72,  52, -20,   o, o, o, o, o, o, o, o,
          37,  22,  41,   9,  -4,  15,  23, -68,   o, o, o, o, o, o, o, o,
         -40,  50,  59,   4, -14, -48,  69,  28,   o, o, o, o, o, o, o, o,
         -54,  67,   9, -27, -25, -10,  -2,  43,   o, o, o, o, o, o, o, o,
         -60,  65,  24, -17,  76,   2, -61,   2,   o, o, o, o, o, o, o, o,
          11, -12,  53, -15,  59,  75,  -7, -57,   o, o, o, o, o, o, o, o,
           5, -38, -10,   3,  56, -38, -59,  21,   o, o, o, o, o, o, o, o,
           6, -38, -31, -13,  -5,   7,  21, -24,   o, o, o, o, o, o, o, o
      ],

      // queen
      [
         -10,   5,  22,  41, -35, -62, -10,   2,   o, o, o, o, o, o, o, o,
          -7, -30,  37, -25,  17,  42,  12,  -6,   o, o, o, o, o, o, o, o,
         -18,   8,  35, -34,  27,  24, -16,  41,   o, o, o, o, o, o, o, o,
          19, -50,   2, -45,  16,   3, -35,   7,   o, o, o, o, o, o, o, o,
          10,  40,  26,  -4, -48, -27, -31, -18,   o, o, o, o, o, o, o, o,
         -20,  28,  -6,  -7,  24,  44,  23,   0,   o, o, o, o, o, o, o, o,
         -11, -49,  18,   7,  -6, -35,  50, -10,   o, o, o, o, o, o, o, o,
           0,  30, -14, -20,  -2, -49,   4, -20,   o, o, o, o, o, o, o, o
      ],

      // king
      [
         -20, -10, -10, -10, -10, -10, -10, -20,   o, o, o, o, o, o, o, o,
         -10,  36, -40,  46,  45, -28, -46, -10,   o, o, o, o, o, o, o, o,
         -68, -54,  10,  53,  77, -57, -35, -10,   o, o, o, o, o, o, o, o,
         -37,  66, -33,  -6, -47,  68, -62, -65,   o, o, o, o, o, o, o, o,
         -77,  21,   9, -14, -47,  18, -16, -23,   o, o, o, o, o, o, o, o,
         -10,  52, -48,  48,  70,  10, -27, -39,   o, o, o, o, o, o, o, o,
         -47,  50,  38,  23,  55,  14, -10, -20,   o, o, o, o, o, o, o, o,
         -25,  20,  33,  42,   8,  49, -21,  -8,   o, o, o, o, o, o, o, o
      ]
    ]
  ];
