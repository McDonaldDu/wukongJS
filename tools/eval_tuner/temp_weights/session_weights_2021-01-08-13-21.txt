  const openingPhaseScore = 5581;
  const endgamePhaseScore = 601;

  // material score
  const materialWeights = [
    // opening material score
    [0, 98, 294, 300, 496, 902, 19999, -101, -266, -333, -508, -883, -19999],

    // endgame material score
    [0, 92, 304, 304, 491, 912, 20000, -98, -287, -312, -495, -874, -20005]

  ];

  // piece-square tables
  const pst = [
    // opening phase scores
    [
      // pawn
      [
           0,   0,   0,   0,   0,   0,   0,   0,   o, o, o, o, o, o, o, o,
           1,  42,  58,  19,   9,  90,  11,  60,   o, o, o, o, o, o, o, o,
          78,  99,  86,  93, -37,  69,  69, -77,   o, o, o, o, o, o, o, o,
         -68, -71,  -6,  69,   8, -15, -62,  71,   o, o, o, o, o, o, o, o,
          67,  29,  85, -61, -38, -25,  56, -59,   o, o, o, o, o, o, o, o,
         -48, -51,  49,   8,  47, -43,  34, -14,   o, o, o, o, o, o, o, o,
          -6,  63,  24,  81,  76,  -2,  60,  13,   o, o, o, o, o, o, o, o,
           0,   0,   0,   0,   0,   0,   0,   0,   o, o, o, o, o, o, o, o
      ],

      // knight
      [
         -86, -10, -10,  22,  15, -15, -10, -20,   o, o, o, o, o, o, o, o,
          24,  74,  27, -76,  43,  17,  -9, -10,   o, o, o, o, o, o, o, o,
          56,  68,  91,  -8, -61, -40,  86,  33,   o, o, o, o, o, o, o, o,
          57,  22,  91, -26, -10, -70,  86,  30,   o, o, o, o, o, o, o, o,
         -82, -50, -62,  17,  38,  72,  51,  71,   o, o, o, o, o, o, o, o,
         -57, -73, -68,  64,  59, -39,  81,  57,   o, o, o, o, o, o, o, o,
         -78,  25,  10, -76,  24, -42,  49,  60,   o, o, o, o, o, o, o, o,
         -20, -91, -48,  47, -91,  36,  62, -20,   o, o, o, o, o, o, o, o
      ],

      // bishop
      [
          40, -27, -13,  61, -25, -27, -22, -10,   o, o, o, o, o, o, o, o,
         -60,  53,  81,   3, -81, -33, -17,  43,   o, o, o, o, o, o, o, o,
         -78,  77, -79,  60, -27, -81, -68,  61,   o, o, o, o, o, o, o, o,
          -1, -70,  59,  26, -62,  73,  91, -26,   o, o, o, o, o, o, o, o,
          71,  68,  65,  88, -53, -30,  53, -87,   o, o, o, o, o, o, o, o,
         -86, -81,  39,   6,  68, -81,  79, -86,   o, o, o, o, o, o, o, o,
          69,  36,  58,  65,  25,  85,  50,  36,   o, o, o, o, o, o, o, o,
          61,  70, -67,  50,  21,  70,   0,  70,   o, o, o, o, o, o, o, o
      ],

      // rook
      [
           8, -18,  75,  19, -21, -69,  51, -17,   o, o, o, o, o, o, o, o,
          58,  34,  18,  65,  11,  86,  51,  -7,   o, o, o, o, o, o, o, o,
          -6,  34,  55,  73,  20, -25,  50,  -8,   o, o, o, o, o, o, o, o,
         -67,  36, -54, -64, -10, -69,  17,  29,   o, o, o, o, o, o, o, o,
          15,  42,  78, -65,  43,  36, -73,  32,   o, o, o, o, o, o, o, o,
          45, -13,  29, -52,  68,  76,  -3, -54,   o, o, o, o, o, o, o, o,
         -63,   6, -48, -10,  53, -81, -73,  -3,   o, o, o, o, o, o, o, o,
          -9, -33, -76,  49,  52,  62,  49, -25,   o, o, o, o, o, o, o, o
      ],

      // queen
      [
         -81, -18, -26,  16, -57, -59, -10,  33,   o, o, o, o, o, o, o, o,
          58, -75,  73, -80,   0,  76,  53,  58,   o, o, o, o, o, o, o, o,
         -19, -76, -40, -70,  25,  31, -56,  62,   o, o, o, o, o, o, o, o,
          62, -74,   9, -67,  56,  73,  45,  70,   o, o, o, o, o, o, o, o,
         -91,  25, -20, -34, -68, -10, -81,  30,   o, o, o, o, o, o, o, o,
         -87,  81,  85,  86,  14,  86,  81, -63,   o, o, o, o, o, o, o, o,
          61, -80, -10, -81,  41,  38,  38, -10,   o, o, o, o, o, o, o, o,
          54,  70, -56, -37,  25, -91,  34, -88,   o, o, o, o, o, o, o, o
      ],

      // king
      [
         -20, -20, -20, -20, -20, -20, -20, -20,   o, o, o, o, o, o, o, o,
         -20,  -1, -38, -13,  -8, -14,   2, -20,   o, o, o, o, o, o, o, o,
         -79, -43, -20,  14, -23, -22, -86, -20,   o, o, o, o, o, o, o, o,
         -29,  18,  -9, -26, -10,   5, -40, -40,   o, o, o, o, o, o, o, o,
         -20, -51, -11, -29, -47,  23, -12, -14,   o, o, o, o, o, o, o, o,
         -20, -13, -22,  -2, -23, -49, -19, -87,   o, o, o, o, o, o, o, o,
         -99,  46, -12, -61,  37,  -6, -85, -69,   o, o, o, o, o, o, o, o,
          -8,  56,  37,  55,  -7,  17,  21,   3,   o, o, o, o, o, o, o, o
      ]
    ],

    // endgame phase score
    [
      // pawn
      [
           0,   0,   0,   0,   0,   0,   0,   0,   o, o, o, o, o, o, o, o,
           1, 136,  62,  19,  16,  69,  54, 138,   o, o, o, o, o, o, o, o,
         123,  93,  98, 149,  73,  48,   6, -11,   o, o, o, o, o, o, o, o,
         -11,   2,  44,  -6,  74,  18,  45,  29,   o, o, o, o, o, o, o, o,
          84,  63, 108,  20,  32, -14, 109,  -1,   o, o, o, o, o, o, o, o,
          44,  37,  40,  75,  18,  30,  35,  47,   o, o, o, o, o, o, o, o,
         -17,  73, 105, -34,   2,  77,  72,   2,   o, o, o, o, o, o, o, o,
           0,   0,   0,   0,   0,   0,   0,   0,   o, o, o, o, o, o, o, o
      ],

      // knight
      [
         -36, -10, -10,  63,   6, -15, -10, -20,   o, o, o, o, o, o, o, o,
          28,  50,  77, -27,  47, -60, -33, -10,   o, o, o, o, o, o, o, o,
          60,  36,  86, -71,  10,  33, -76,  17,   o, o, o, o, o, o, o, o,
          -2, -26,  86,   1,  34, -71,  79,  13,   o, o, o, o, o, o, o, o,
         -71, -59,  62, -34, -53,  65,  73,  11,   o, o, o, o, o, o, o, o,
          16,  59, -48,  82, -41,  72,  70,  41,   o, o, o, o, o, o, o, o,
         -47,  22,  54, -26,  32,  10, -38,  -5,   o, o, o, o, o, o, o, o,
         -20, -16, -84, -34, -30,  40,  53, -20,   o, o, o, o, o, o, o, o
      ],

      // bishop
      [
          31, -56,  71,  38, -60, -57, -62, -20,   o, o, o, o, o, o, o, o,
           6,  45,  14, -76,  63, -44,  85,  70,   o, o, o, o, o, o, o, o,
         -14, -34,   6,  85, -52,  82, -28, -38,   o, o, o, o, o, o, o, o,
          60, -74,  72,  74, -27,  82,  10, -30,   o, o, o, o, o, o, o, o,
          65,  48,  -5,  88, -29,  35,  30, -78,   o, o, o, o, o, o, o, o,
          57, -66,  31,  62,  22, -46, -60, -13,   o, o, o, o, o, o, o, o,
          -6,   1,  85,  75,  -4,   2, -39,  -9,   o, o, o, o, o, o, o, o,
          49,  70, -47,  58, -15, -18,  42,  -3,   o, o, o, o, o, o, o, o
      ],

      // rook
      [
          59, -85, -10, -54, -78, -82,  63, -19,   o, o, o, o, o, o, o, o,
          43,  28,  46,   9,  -4,  12,  27, -80,   o, o, o, o, o, o, o, o,
         -47,  56,  65,   1, -20, -62,  83,  35,   o, o, o, o, o, o, o, o,
         -61,  80,   3, -39, -38, -15,  -5,  54,   o, o, o, o, o, o, o, o,
         -70,  78,  22, -22,  86,   9, -75,   3,   o, o, o, o, o, o, o, o,
          11, -14,  64, -19,  68,  88,  -9, -69,   o, o, o, o, o, o, o, o,
          11, -46, -12,  -3,  69, -43, -69,  22,   o, o, o, o, o, o, o, o,
          12, -43, -36, -13,  -4,   7,  26, -26,   o, o, o, o, o, o, o, o
      ],

      // queen
      [
         -13,   6,  29,  42, -41, -74, -10,   6,   o, o, o, o, o, o, o, o,
          -6, -32,  44, -28,  21,  52,  13,  -6,   o, o, o, o, o, o, o, o,
         -23,  18,  39, -39,  27,  29, -18,  51,   o, o, o, o, o, o, o, o,
          27, -61,   2, -55,  17,   4, -40,  12,   o, o, o, o, o, o, o, o,
          15,  45,  31,  -8, -61, -31, -36, -21,   o, o, o, o, o, o, o, o,
         -23,  29, -14, -14,  28,  54,  28,   0,   o, o, o, o, o, o, o, o,
          -9, -57,  24,   8, -13, -38,  59, -10,   o, o, o, o, o, o, o, o,
           7,  38, -19, -24,  -1, -55,   5, -20,   o, o, o, o, o, o, o, o
      ],

      // king
      [
         -20, -10, -10, -10, -10, -10, -10, -20,   o, o, o, o, o, o, o, o,
         -10,  42, -48,  55,  53, -34, -60, -10,   o, o, o, o, o, o, o, o,
         -79, -68,  10,  61,  91, -71, -45, -10,   o, o, o, o, o, o, o, o,
         -42,  80, -39,  -6, -61,  79, -75, -76,   o, o, o, o, o, o, o, o,
         -91,  28,  11, -21, -61,  18, -23, -20,   o, o, o, o, o, o, o, o,
         -10,  65, -60,  53,  83,   9, -32, -38,   o, o, o, o, o, o, o, o,
         -55,  61,  46,  26,  66,  18, -12, -23,   o, o, o, o, o, o, o, o,
         -25,  24,  42,  54,  12,  60, -23,  -6,   o, o, o, o, o, o, o, o
      ]
    ]
  ];
