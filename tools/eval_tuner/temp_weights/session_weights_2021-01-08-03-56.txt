  const openingPhaseScore = 5596;
  const endgamePhaseScore = 600;

  // material score
  const materialWeights = [
    // opening material score
    [0, 98, 295, 300, 496, 902, 19999, -101, -282, -317, -505, -889, -20000],

    // endgame material score
    [0, 93, 302, 301, 492, 910, 19999, -100, -292, -308, -496, -885, -20003]

  ];

  // piece-square tables
  const pst = [
    // opening phase scores
    [
      // pawn
      [
           0,   0,   0,   0,   0,   0,   0,   0,   o, o, o, o, o, o, o, o,
          25,  44,  54,  35,  36,  70,  30,  59,   o, o, o, o, o, o, o, o,
          30,  51,  45,  63,   8,  43,  41, -31,   o, o, o, o, o, o, o, o,
         -31, -22,   0,  49,  18,  -1, -17,  27,   o, o, o, o, o, o, o, o,
          26,  11,  37, -12,  -8, -13,  26, -28,   o, o, o, o, o, o, o, o,
         -25, -26,  18,   6,  18, -23,  18,  -2,   o, o, o, o, o, o, o, o,
           5,  36,  25,  32,  32,  10,  28,   6,   o, o, o, o, o, o, o, o,
           0,   0,   0,   0,   0,   0,   0,   0,   o, o, o, o, o, o, o, o
      ],

      // knight
      [
         -44, -10, -10,   0,   7, -10, -10, -20,   o, o, o, o, o, o, o, o,
           3,  32,  16, -27,  16,   5,   5, -10,   o, o, o, o, o, o, o, o,
          16,  31,  42,   4, -18, -11,  37,   5,   o, o, o, o, o, o, o, o,
          19,  14,  42,   3,   4, -22,  37,   9,   o, o, o, o, o, o, o, o,
         -39, -19, -20,  23,  35,  33,  23,  22,   o, o, o, o, o, o, o, o,
         -18, -25, -22,  31,  30, -20,  37,  15,   o, o, o, o, o, o, o, o,
         -29,  12,  22, -27,  10, -15,  25,  20,   o, o, o, o, o, o, o, o,
         -20, -42, -28,  13, -42,  16,  22, -20,   o, o, o, o, o, o, o, o
      ],

      // bishop
      [
           2, -17, -12,  18, -15, -16, -18, -10,   o, o, o, o, o, o, o, o,
         -38,  24,  32,   3, -32, -12,  -7,  14,   o, o, o, o, o, o, o, o,
         -41,  28, -32,  24, -13, -32, -29,  19,   o, o, o, o, o, o, o, o,
         -15, -22,  25,  12, -25,  32,  42, -17,   o, o, o, o, o, o, o, o,
          22,  25,  42,  42, -15,  -1,  21, -40,   o, o, o, o, o, o, o, o,
         -40, -32,  15,  -2,  37, -32,  32, -41,   o, o, o, o, o, o, o, o,
          22,  20,  30,  34,  16,  37,  38,   6,   o, o, o, o, o, o, o, o,
          12,  22, -41,  12,   2,  22,  -8,  21,   o, o, o, o, o, o, o, o
      ],

      // rook
      [
           4, -13,  29,   9, -11, -27,  16,  -7,   o, o, o, o, o, o, o, o,
          37,  22,  22,  39,  22,  48,  42,  14,   o, o, o, o, o, o, o, o,
          -1,  17,  24,  29,  13, -13,  22,  -4,   o, o, o, o, o, o, o, o,
         -28,  15, -23, -25,  -9, -26,   9,   4,   o, o, o, o, o, o, o, o,
          -1,  19,  32, -24,  17,  14, -26,  16,   o, o, o, o, o, o, o, o,
          19,  -5,  13, -23,  28,  30,   5, -22,   o, o, o, o, o, o, o, o,
         -23,  -3, -21,  -1,  24, -32, -32,   1,   o, o, o, o, o, o, o, o,
          -5, -18, -32,  32,  29,  29,  21, -18,   o, o, o, o, o, o, o, o
      ],

      // queen
      [
         -41,  -4,  -7,   4, -29, -28, -10,   1,   o, o, o, o, o, o, o, o,
          18, -29,  27, -31,   2,  30,  22,  17,   o, o, o, o, o, o, o, o,
         -16, -32, -12, -24,  19,  22, -24,  19,   o, o, o, o, o, o, o, o,
          19, -30,   3, -22,  26,  33,  19,  22,   o, o, o, o, o, o, o, o,
         -42,  11, -12,   2, -20,  -3, -32,   5,   o, o, o, o, o, o, o, o,
         -40,  32,  37,  37,  17,  37,  32, -32,   o, o, o, o, o, o, o, o,
          21, -32,  -9, -32,  16,  10,  20, -10,   o, o, o, o, o, o, o, o,
           9,  22, -28, -24,   3, -42,  10, -47,   o, o, o, o, o, o, o, o
      ],

      // king
      [
         -20, -20, -20, -20, -20, -20, -20, -20,   o, o, o, o, o, o, o, o,
         -20, -15, -29, -14, -14, -19, -17, -20,   o, o, o, o, o, o, o, o,
         -44, -28, -20,  -4, -22, -21, -46, -20,   o, o, o, o, o, o, o, o,
         -29,  -7, -17, -25, -20, -10, -26, -29,   o, o, o, o, o, o, o, o,
         -20, -30, -16, -25, -32,  -5, -19, -21,   o, o, o, o, o, o, o, o,
         -20, -19, -23, -19, -19, -32, -22, -50,   o, o, o, o, o, o, o, o,
         -52,   3, -27, -42,  -1, -22, -48, -42,   o, o, o, o, o, o, o, o,
         -17,  12,  27,  10, -20, -11,  21,  -8,   o, o, o, o, o, o, o, o
      ]
    ],

    // endgame phase score
    [
      // pawn
      [
           0,   0,   0,   0,   0,   0,   0,   0,   o, o, o, o, o, o, o, o,
          50, 103,  73,  55,  54,  77,  67, 101,   o, o, o, o, o, o, o, o,
          93,  83,  81, 102,  74,  59,  48,  38,   o, o, o, o, o, o, o, o,
          30,  35,  50,  30,  64,  47,  50,  51,   o, o, o, o, o, o, o, o,
          66,  59,  73,  32,  42,  23,  73,  22,   o, o, o, o, o, o, o, o,
          41,  37,  41,  59,  33,  32,  38,  46,   o, o, o, o, o, o, o, o,
          13,  46,  61,   8,  16,  55,  55,  13,   o, o, o, o, o, o, o, o,
           0,   0,   0,   0,   0,   0,   0,   0,   o, o, o, o, o, o, o, o
      ],

      // knight
      [
         -28, -10, -10,  19,   9,  -9, -10, -20,   o, o, o, o, o, o, o, o,
           4,  22,  36,  -5,  23, -26,   0, -10,   o, o, o, o, o, o, o, o,
          17,  18,  39, -22,  13,  20, -27,   1,   o, o, o, o, o, o, o, o,
          -9, -10,  41,   6,  29, -22,  35,   5,   o, o, o, o, o, o, o, o,
         -34, -22,  33,  -7,  -9,  32,  34,  -1,   o, o, o, o, o, o, o, o,
          -5,  27, -16,  40,  -5,  34,  32,  11,   o, o, o, o, o, o, o, o,
         -26,   0,  25, -13,  19,   0, -16,  -8,   o, o, o, o, o, o, o, o,
         -20,  -8, -39, -14, -19,  15,  16, -20,   o, o, o, o, o, o, o, o
      ],

      // bishop
      [
          -2, -30,  22,   9, -26, -10, -33, -20,   o, o, o, o, o, o, o, o,
         -10,  34,  14, -27,  31, -18,  36,  21,   o, o, o, o, o, o, o, o,
         -11, -15,  11,  40, -16,  34, -27, -18,   o, o, o, o, o, o, o, o,
          17, -26,  32,  41,   3,  40,  15, -19,   o, o, o, o, o, o, o, o,
          19,  21,   6,  49,   2,  22,  21, -38,   o, o, o, o, o, o, o, o,
          16, -27,  20,  31,  18, -17, -20,  -9,   o, o, o, o, o, o, o, o,
          -5,  12,  37,  35,   4,   1, -13, -11,   o, o, o, o, o, o, o, o,
           6,  22, -25,  20, -12, -11,  11, -13,   o, o, o, o, o, o, o, o
      ],

      // rook
      [
          10, -42, -11, -30, -39, -39,  20, -24,   o, o, o, o, o, o, o, o,
          12,   7,  24,   7,   1,   9,  14, -35,   o, o, o, o, o, o, o, o,
         -27,  28,  33,   8,  -1, -16,  37,   8,   o, o, o, o, o, o, o, o,
         -31,  35,   6,  -6,   2,   5,   0,  15,   o, o, o, o, o, o, o, o,
         -38,  34,  19,  -1,  49,  -3, -27,   0,   o, o, o, o, o, o, o, o,
           2,  -1,  30,  -3,  35,  42,  -6, -30,   o, o, o, o, o, o, o, o,
          -7, -18,  -2,   8,  32, -19, -26,   8,   o, o, o, o, o, o, o, o,
          -6, -25, -24, -14,  -6,   2,  11, -23,   o, o, o, o, o, o, o, o
      ],

      // queen
      [
         -13,   4,   5,  13, -17, -37, -10, -12,   o, o, o, o, o, o, o, o,
          -1, -18,  18, -12,  13,  25,   8,  -8,   o, o, o, o, o, o, o, o,
         -15,  -2,  20, -17,  13,   8,  -7,  13,   o, o, o, o, o, o, o, o,
           5, -22,   4, -17,   8,   7, -17,  -1,   o, o, o, o, o, o, o, o,
           0,  22,  14,   1, -21, -14, -11, -16,   o, o, o, o, o, o, o, o,
         -15,  13,   8,  -3,  12,  26,  11,  -7,   o, o, o, o, o, o, o, o,
         -14, -26,   7,   2,   2, -14,  25, -10,   o, o, o, o, o, o, o, o,
         -12,  10, -12, -15,  -2, -36,  -1, -20,   o, o, o, o, o, o, o, o
      ],

      // king
      [
         -20, -10, -10, -10, -10, -10, -10, -20,   o, o, o, o, o, o, o, o,
         -10,  21, -15,  26,  23, -11, -11, -10,   o, o, o, o, o, o, o, o,
         -39, -22,  10,  32,  42, -22, -13, -10,   o, o, o, o, o, o, o, o,
         -31,  33, -18,   8, -12,  38, -27, -34,   o, o, o, o, o, o, o, o,
         -42,   5,   3,   0, -12,  14,  -4, -20,   o, o, o, o, o, o, o, o,
         -10,  28, -17,  28,  39,  10, -16, -26,   o, o, o, o, o, o, o, o,
         -26,  23,  23,  11,  30,  12,  -5, -15,   o, o, o, o, o, o, o, o,
         -26,   8,  12,  18,   1,  20, -16, -13,   o, o, o, o, o, o, o, o
      ]
    ]
  ];
