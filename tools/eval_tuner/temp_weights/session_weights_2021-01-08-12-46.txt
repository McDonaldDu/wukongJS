  const openingPhaseScore = 5583;
  const endgamePhaseScore = 601;

  // material score
  const materialWeights = [
    // opening material score
    [0, 98, 294, 300, 496, 902, 19999, -101, -267, -332, -508, -883, -19999],

    // endgame material score
    [0, 92, 304, 304, 491, 912, 20000, -99, -288, -312, -495, -875, -20005]

  ];

  // piece-square tables
  const pst = [
    // opening phase scores
    [
      // pawn
      [
           0,   0,   0,   0,   0,   0,   0,   0,   o, o, o, o, o, o, o, o,
           3,  41,  58,  18,  11,  88,  11,  60,   o, o, o, o, o, o, o, o,
          75,  96,  83,  90, -35,  67,  67, -74,   o, o, o, o, o, o, o, o,
         -65, -68,  -7,  67,  10, -14, -60,  69,   o, o, o, o, o, o, o, o,
          64,  28,  82, -58, -37, -25,  55, -57,   o, o, o, o, o, o, o, o,
         -47, -50,  48,   7,  45, -41,  33, -14,   o, o, o, o, o, o, o, o,
          -3,  61,  24,  78,  73,  -1,  58,  13,   o, o, o, o, o, o, o, o,
           0,   0,   0,   0,   0,   0,   0,   0,   o, o, o, o, o, o, o, o
      ],

      // knight
      [
         -83, -10, -10,  20,  14, -15, -10, -20,   o, o, o, o, o, o, o, o,
          23,  71,  27, -73,  42,  15,  -7, -10,   o, o, o, o, o, o, o, o,
          53,  66,  88,  -8, -58, -39,  83,  30,   o, o, o, o, o, o, o, o,
          56,  23,  88, -24,  -8, -67,  83,  30,   o, o, o, o, o, o, o, o,
         -79, -48, -59,  19,  39,  70,  49,  68,   o, o, o, o, o, o, o, o,
         -56, -70, -66,  62,  58, -38,  78,  54,   o, o, o, o, o, o, o, o,
         -75,  23,  10, -73,  21, -41,  48,  58,   o, o, o, o, o, o, o, o,
         -20, -88, -47,  44, -88,  35,  60, -20,   o, o, o, o, o, o, o, o
      ],

      // bishop
      [
          39, -26, -13,  58, -25, -27, -22, -10,   o, o, o, o, o, o, o, o,
         -61,  52,  78,   3, -78, -34, -17,  41,   o, o, o, o, o, o, o, o,
         -76,  74, -76,  57, -26, -78, -65,  59,   o, o, o, o, o, o, o, o,
          -3, -68,  58,  25, -59,  70,  88, -25,   o, o, o, o, o, o, o, o,
          68,  66,  64,  85, -50, -30,  53, -84,   o, o, o, o, o, o, o, o,
         -83, -78,  37,   5,  67, -78,  76, -83,   o, o, o, o, o, o, o, o,
          66,  36,  57,  65,  24,  82,  48,  35,   o, o, o, o, o, o, o, o,
          58,  67, -67,  47,  18,  67,  -2,  67,   o, o, o, o, o, o, o, o
      ],

      // rook
      [
           8, -17,  72,  19, -19, -66,  48, -16,   o, o, o, o, o, o, o, o,
          57,  33,  17,  63,  13,  84,  52,  -5,   o, o, o, o, o, o, o, o,
          -7,  34,  53,  71,  22, -25,  49,  -9,   o, o, o, o, o, o, o, o,
         -65,  35, -51, -62, -12, -67,  18,  26,   o, o, o, o, o, o, o, o,
          15,  41,  75, -63,  42,  34, -70,  30,   o, o, o, o, o, o, o, o,
          45, -14,  29, -49,  66,  73,  -3, -52,   o, o, o, o, o, o, o, o,
         -60,   6, -47, -10,  53, -78, -70,  -2,   o, o, o, o, o, o, o, o,
         -10, -34, -75,  49,  52,  61,  47, -25,   o, o, o, o, o, o, o, o
      ],

      // queen
      [
         -78, -15, -24,  14, -55, -57, -10,  31,   o, o, o, o, o, o, o, o,
          56, -72,  70, -77,   0,  73,  50,  55,   o, o, o, o, o, o, o, o,
         -18, -74, -39, -68,  24,  30, -54,  60,   o, o, o, o, o, o, o, o,
          59, -71,   8, -64,  54,  71,  42,  67,   o, o, o, o, o, o, o, o,
         -88,  25, -19, -33, -65, -11, -78,  28,   o, o, o, o, o, o, o, o,
         -84,  78,  83,  83,  15,  83,  78, -62,   o, o, o, o, o, o, o, o,
          59, -77, -11, -78,  41,  36,  38, -10,   o, o, o, o, o, o, o, o,
          51,  67, -54, -37,  24, -88,  33, -85,   o, o, o, o, o, o, o, o
      ],

      // king
      [
         -20, -20, -20, -20, -20, -20, -20, -20,   o, o, o, o, o, o, o, o,
         -20,  -2, -36, -15,  -8, -14,   1, -20,   o, o, o, o, o, o, o, o,
         -78, -43, -20,  14, -23, -21, -84, -20,   o, o, o, o, o, o, o, o,
         -28,  15, -10, -24, -11,   4, -39, -39,   o, o, o, o, o, o, o, o,
         -20, -53, -11, -31, -47,  24, -12, -15,   o, o, o, o, o, o, o, o,
         -20, -13, -21,  -3, -23, -47, -19, -84,   o, o, o, o, o, o, o, o,
         -96,  43, -14, -62,  35,  -7, -84, -66,   o, o, o, o, o, o, o, o,
          -7,  54,  36,  53,  -7,  16,  21,   3,   o, o, o, o, o, o, o, o
      ]
    ],

    // endgame phase score
    [
      // pawn
      [
           0,   0,   0,   0,   0,   0,   0,   0,   o, o, o, o, o, o, o, o,
           4, 134,  60,  21,  17,  67,  55, 136,   o, o, o, o, o, o, o, o,
         121,  94,  96, 146,  71,  48,   9,  -8,   o, o, o, o, o, o, o, o,
          -9,   4,  45,  -3,  73,  19,  46,  30,   o, o, o, o, o, o, o, o,
          84,  62, 107,  22,  32, -13, 106,   0,   o, o, o, o, o, o, o, o,
          44,  37,  38,  74,  18,  30,  35,  47,   o, o, o, o, o, o, o, o,
         -16,  72, 102, -33,   2,  76,  71,   2,   o, o, o, o, o, o, o, o,
           0,   0,   0,   0,   0,   0,   0,   0,   o, o, o, o, o, o, o, o
      ],

      // knight
      [
         -36, -10, -10,  60,   7, -17, -10, -20,   o, o, o, o, o, o, o, o,
          27,  48,  74, -25,  46, -58, -32, -10,   o, o, o, o, o, o, o, o,
          57,  35,  83, -68,   9,  32, -73,  17,   o, o, o, o, o, o, o, o,
          -4, -23,  83,   1,  34, -68,  76,  13,   o, o, o, o, o, o, o, o,
         -68, -58,  61, -33, -50,  62,  70,  11,   o, o, o, o, o, o, o, o,
          15,  56, -47,  79, -39,  69,  70,  39,   o, o, o, o, o, o, o, o,
         -47,  22,  52, -27,  32,   9, -36,  -5,   o, o, o, o, o, o, o, o,
         -20, -17, -82, -33, -31,  39,  52, -20,   o, o, o, o, o, o, o, o
      ],

      // bishop
      [
          30, -55,  68,  36, -58, -54, -61, -20,   o, o, o, o, o, o, o, o,
           6,  46,  15, -73,  60, -42,  82,  67,   o, o, o, o, o, o, o, o,
         -14, -32,   7,  83, -50,  79, -30, -36,   o, o, o, o, o, o, o, o,
          58, -71,  70,  71, -26,  79,  12, -30,   o, o, o, o, o, o, o, o,
          62,  46,  -3,  87, -29,  34,  30, -75,   o, o, o, o, o, o, o, o,
          55, -64,  31,  60,  22, -46, -57, -10,   o, o, o, o, o, o, o, o,
          -7,   2,  82,  72,  -4,   2, -38,  -9,   o, o, o, o, o, o, o, o,
          49,  67, -45,  55, -13, -18,  41,  -4,   o, o, o, o, o, o, o, o
      ],

      // rook
      [
          56, -83, -10, -51, -76, -80,  62, -18,   o, o, o, o, o, o, o, o,
          43,  26,  45,   9,  -4,  13,  25, -77,   o, o, o, o, o, o, o, o,
         -47,  54,  65,   2, -19, -59,  80,  34,   o, o, o, o, o, o, o, o,
         -62,  77,   4, -36, -36, -16,  -4,  52,   o, o, o, o, o, o, o, o,
         -68,  76,  23, -20,  84,   9, -72,   4,   o, o, o, o, o, o, o, o,
          10, -15,  62, -19,  66,  86,  -7, -67,   o, o, o, o, o, o, o, o,
          10, -45, -10,  -2,  66, -42, -66,  21,   o, o, o, o, o, o, o, o,
          11, -44, -34, -13,  -4,   8,  24, -27,   o, o, o, o, o, o, o, o
      ],

      // queen
      [
         -11,   5,  27,  40, -40, -72, -10,   6,   o, o, o, o, o, o, o, o,
          -6, -31,  41, -27,  21,  50,  13,  -6,   o, o, o, o, o, o, o, o,
         -23,  15,  37, -40,  27,  29, -18,  49,   o, o, o, o, o, o, o, o,
          25, -58,   2, -56,  18,   6, -39,  12,   o, o, o, o, o, o, o, o,
          14,  44,  32,  -9, -58, -30, -35, -21,   o, o, o, o, o, o, o, o,
         -23,  29, -14, -11,  26,  51,  28,   0,   o, o, o, o, o, o, o, o,
         -10, -56,  23,   8, -11, -36,  56, -10,   o, o, o, o, o, o, o, o,
           6,  37, -19, -24,  -2, -55,   5, -20,   o, o, o, o, o, o, o, o
      ],

      // king
      [
         -20, -10, -10, -10, -10, -10, -10, -20,   o, o, o, o, o, o, o, o,
         -10,  41, -46,  53,  51, -33, -57, -10,   o, o, o, o, o, o, o, o,
         -77, -65,  10,  58,  88, -68, -42, -10,   o, o, o, o, o, o, o, o,
         -41,  77, -37,  -6, -58,  76, -73, -74,   o, o, o, o, o, o, o, o,
         -88,  26,  11, -20, -58,  16, -21, -19,   o, o, o, o, o, o, o, o,
         -10,  62, -57,  53,  80,   9, -31, -37,   o, o, o, o, o, o, o, o,
         -54,  59,  44,  26,  64,  18, -12, -23,   o, o, o, o, o, o, o, o,
         -26,  24,  41,  52,  11,  58, -23,  -7,   o, o, o, o, o, o, o, o
      ]
    ]
  ];
