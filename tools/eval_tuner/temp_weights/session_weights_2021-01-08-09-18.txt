  const openingPhaseScore = 5585;
  const endgamePhaseScore = 601;

  // material score
  const materialWeights = [
    // opening material score
    [0, 98, 294, 300, 496, 902, 19999, -101, -271, -327, -509, -884, -19998],

    // endgame material score
    [0, 92, 303, 303, 492, 912, 20000, -99, -289, -312, -496, -878, -20003]

  ];

  // piece-square tables
  const pst = [
    // opening phase scores
    [
      // pawn
      [
           0,   0,   0,   0,   0,   0,   0,   0,   o, o, o, o, o, o, o, o,
           9,  44,  61,  26,  19,  80,  21,  57,   o, o, o, o, o, o, o, o,
          57,  78,  69,  82, -19,  58,  57, -57,   o, o, o, o, o, o, o, o,
         -52, -50,  -4,  63,  16,  -4, -42,  52,   o, o, o, o, o, o, o, o,
          49,  20,  64, -40, -31, -21,  44, -44,   o, o, o, o, o, o, o, o,
         -36, -42,  38,   7,  33, -36,  26,  -6,   o, o, o, o, o, o, o, o,
          -1,  53,  25,  60,  59,   5,  47,   7,   o, o, o, o, o, o, o, o,
           0,   0,   0,   0,   0,   0,   0,   0,   o, o, o, o, o, o, o, o
      ],

      // knight
      [
         -70, -10, -10,  11,  13, -13, -10, -20,   o, o, o, o, o, o, o, o,
          17,  57,  25, -55,  34,   7,   1, -10,   o, o, o, o, o, o, o, o,
          37,  53,  70,  -6, -42, -28,  65,  18,   o, o, o, o, o, o, o, o,
          40,  20,  70, -12,  -6, -49,  65,  24,   o, o, o, o, o, o, o, o,
         -62, -39, -44,  26,  37,  55,  41,  50,   o, o, o, o, o, o, o, o,
         -42, -52, -50,  49,  48, -34,  60,  37,   o, o, o, o, o, o, o, o,
         -57,  18,  14, -55,  18, -26,  37,  45,   o, o, o, o, o, o, o, o,
         -20, -70, -43,  33, -70,  27,  48, -20,   o, o, o, o, o, o, o, o
      ],

      // bishop
      [
          25, -22, -14,  44, -20, -22, -21, -10,   o, o, o, o, o, o, o, o,
         -53,  43,  60,   3, -60, -23, -13,  31,   o, o, o, o, o, o, o, o,
         -61,  56, -60,  47, -23, -60, -53,  43,   o, o, o, o, o, o, o, o,
         -12, -50,  45,  21, -51,  55,  70, -25,   o, o, o, o, o, o, o, o,
          50,  50,  54,  68, -36, -18,  41, -67,   o, o, o, o, o, o, o, o,
         -67, -60,  28,   3,  55, -60,  59, -68,   o, o, o, o, o, o, o, o,
          49,  29,  45,  54,  24,  65,  47,  23,   o, o, o, o, o, o, o, o,
          40,  50, -62,  32,  15,  50,  -3,  49,   o, o, o, o, o, o, o, o
      ],

      // rook
      [
          11, -14,  56,  15, -17, -52,  36, -12,   o, o, o, o, o, o, o, o,
          49,  30,  24,  55,  18,  70,  49,   1,   o, o, o, o, o, o, o, o,
          -7,  26,  42,  54,  16, -24,  42,  -4,   o, o, o, o, o, o, o, o,
         -52,  28, -42, -49, -13, -51,  18,  16,   o, o, o, o, o, o, o, o,
           9,  33,  57, -49,  32,  26, -53,  25,   o, o, o, o, o, o, o, o,
          35, -13,  24, -37,  50,  56,  -1, -41,   o, o, o, o, o, o, o, o,
         -47,   1, -35,  -5,  39, -60, -56,   2,   o, o, o, o, o, o, o, o,
          -8, -29, -59,  43,  42,  50,  41, -23,   o, o, o, o, o, o, o, o
      ],

      // queen
      [
         -66,  -5, -17,  13, -43, -47, -10,  17,   o, o, o, o, o, o, o, o,
          42, -55,  53, -59,   1,  57,  40,  40,   o, o, o, o, o, o, o, o,
         -20, -59, -29, -52,  19,  27, -41,  44,   o, o, o, o, o, o, o, o,
          43, -55,   5, -47,  43,  56,  36,  49,   o, o, o, o, o, o, o, o,
         -70,  21, -14, -20, -47,  -9, -60,  19,   o, o, o, o, o, o, o, o,
         -66,  60,  65,  65,  15,  65,  60, -50,   o, o, o, o, o, o, o, o,
          47, -59, -12, -60,  29,  27,  32, -10,   o, o, o, o, o, o, o, o,
          33,  49, -39, -35,  15, -70,  25, -71,   o, o, o, o, o, o, o, o
      ],

      // king
      [
         -20, -20, -20, -20, -20, -20, -20, -20,   o, o, o, o, o, o, o, o,
         -20,  -9, -32, -12, -10, -18,  -6, -20,   o, o, o, o, o, o, o, o,
         -65, -38, -20,   9, -23, -20, -68, -20,   o, o, o, o, o, o, o, o,
         -28,   7, -12, -23, -14,  -1, -35, -33,   o, o, o, o, o, o, o, o,
         -20, -40, -13, -35, -43,  12, -14, -20,   o, o, o, o, o, o, o, o,
         -20, -14, -22,  -6, -20, -40, -20, -69,   o, o, o, o, o, o, o, o,
         -78,  26, -17, -53,  22, -11, -71, -57,   o, o, o, o, o, o, o, o,
         -13,  37,  29,  36, -14,   7,  20,  -2,   o, o, o, o, o, o, o, o
      ]
    ],

    // endgame phase score
    [
      // pawn
      [
           0,   0,   0,   0,   0,   0,   0,   0,   o, o, o, o, o, o, o, o,
          22, 120,  63,  34,  32,  71,  60, 120,   o, o, o, o, o, o, o, o,
         110,  87,  88, 129,  75,  51,  24,  10,   o, o, o, o, o, o, o, o,
           7,  18,  47,  10,  69,  32,  48,  38,   o, o, o, o, o, o, o, o,
          77,  64,  96,  22,  35,   0,  92,   6,   o, o, o, o, o, o, o, o,
          43,  37,  40,  70,  27,  33,  34,  47,   o, o, o, o, o, o, o, o,
          -6,  65,  86, -18,  11,  67,  63,   4,   o, o, o, o, o, o, o, o,
           0,   0,   0,   0,   0,   0,   0,   0,   o, o, o, o, o, o, o, o
      ],

      // knight
      [
         -35, -10, -10,  44,  18, -11, -10, -20,   o, o, o, o, o, o, o, o,
          21,  39,  62, -19,  35, -43, -22, -10,   o, o, o, o, o, o, o, o,
          42,  28,  65, -50,  11,  29, -55,  11,   o, o, o, o, o, o, o, o,
          -8, -20,  67,   6,  31, -50,  60,   9,   o, o, o, o, o, o, o, o,
         -54, -46,  52, -19, -33,  50,  56,  10,   o, o, o, o, o, o, o, o,
          10,  44, -35,  63, -28,  56,  54,  26,   o, o, o, o, o, o, o, o,
         -39,  14,  41, -23,  27,   9, -30,  -6,   o, o, o, o, o, o, o, o,
         -20, -13, -65, -25, -23,  34,  37, -20,   o, o, o, o, o, o, o, o
      ],

      // bishop
      [
          15, -45,  50,  27, -46, -36, -48, -20,   o, o, o, o, o, o, o, o,
          -4,  49,  15, -55,  47, -35,  64,  49,   o, o, o, o, o, o, o, o,
         -13, -29,   7,  66, -37,  62, -47, -31,   o, o, o, o, o, o, o, o,
          41, -54,  55,  61, -14,  64,  14, -25,   o, o, o, o, o, o, o, o,
          46,  36,   0,  73, -16,  25,  26, -62,   o, o, o, o, o, o, o, o,
          40, -50,  29,  46,  19, -36, -42, -11,   o, o, o, o, o, o, o, o,
          -5,   7,  64,  60,   0,   1, -31, -13,   o, o, o, o, o, o, o, o,
          33,  50, -39,  41, -10, -15,  27,  -8,   o, o, o, o, o, o, o, o
      ],

      // rook
      [
          38, -67, -15, -41, -61, -66,  45, -20,   o, o, o, o, o, o, o, o,
          32,  19,  38,   7,  -4,  16,  22, -61,   o, o, o, o, o, o, o, o,
         -35,  46,  54,   5,  -9, -43,  63,  23,   o, o, o, o, o, o, o, o,
         -51,  61,   9, -23, -18,  -5,  -2,  39,   o, o, o, o, o, o, o, o,
         -58,  59,  22, -15,  70,   1, -54,   3,   o, o, o, o, o, o, o, o,
          10, -11,  47, -13,  52,  68,  -8, -51,   o, o, o, o, o, o, o, o,
           3, -32,  -9,   4,  51, -32, -52,  18,   o, o, o, o, o, o, o, o,
           4, -33, -31, -14,  -5,   7,  19, -23,   o, o, o, o, o, o, o, o
      ],

      // queen
      [
          -6,   7,  19,  37, -29, -56, -10,   0,   o, o, o, o, o, o, o, o,
          -7, -28,  33, -24,  15,  39,  12,  -7,   o, o, o, o, o, o, o, o,
         -19,   3,  34, -32,  25,  20, -14,  36,   o, o, o, o, o, o, o, o,
          17, -43,   1, -39,  11,   1, -32,   5,   o, o, o, o, o, o, o, o,
           8,  39,  25,  -3, -41, -25, -27, -19,   o, o, o, o, o, o, o, o,
         -17,  24,  -2,  -6,  20,  40,  20,  -1,   o, o, o, o, o, o, o, o,
         -12, -42,  16,   5,  -5, -32,  46, -10,   o, o, o, o, o, o, o, o,
          -3,  26, -14, -20,  -4, -46,   3, -20,   o, o, o, o, o, o, o, o
      ],

      // king
      [
         -20, -10, -10, -10, -10, -10, -10, -20,   o, o, o, o, o, o, o, o,
         -10,  33, -33,  42,  39, -26, -39, -10,   o, o, o, o, o, o, o, o,
         -61, -48,  10,  47,  70, -50, -33, -10,   o, o, o, o, o, o, o, o,
         -35,  60, -28,  -1, -40,  61, -55, -59,   o, o, o, o, o, o, o, o,
         -70,  19,   7, -11, -40,  17, -15, -22,   o, o, o, o, o, o, o, o,
         -10,  48, -41,  43,  64,   9, -24, -37,   o, o, o, o, o, o, o, o,
         -43,  44,  36,  21,  51,  13,  -9, -21,   o, o, o, o, o, o, o, o,
         -26,  18,  29,  37,   7,  42, -21,  -8,   o, o, o, o, o, o, o, o
      ]
    ]
  ];
