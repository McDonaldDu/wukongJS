  const openingPhaseScore = 5585;
  const endgamePhaseScore = 601;

  // material score
  const materialWeights = [
    // opening material score
    [0, 98, 294, 300, 496, 902, 19999, -101, -272, -326, -510, -884, -19998],

    // endgame material score
    [0, 92, 303, 303, 492, 912, 20000, -99, -289, -311, -496, -880, -20003]

  ];

  // piece-square tables
  const pst = [
    // opening phase scores
    [
      // pawn
      [
           0,   0,   0,   0,   0,   0,   0,   0,   o, o, o, o, o, o, o, o,
          13,  42,  60,  28,  22,  75,  23,  59,   o, o, o, o, o, o, o, o,
          51,  71,  62,  80, -12,  55,  53, -51,   o, o, o, o, o, o, o, o,
         -47, -43,  -4,  60,  18,  -2, -36,  46,   o, o, o, o, o, o, o, o,
          45,  19,  58, -33, -27, -21,  40, -43,   o, o, o, o, o, o, o, o,
         -33, -39,  35,   6,  31, -31,  24,  -5,   o, o, o, o, o, o, o, o,
           2,  49,  25,  53,  52,   6,  42,   7,   o, o, o, o, o, o, o, o,
           0,   0,   0,   0,   0,   0,   0,   0,   o, o, o, o, o, o, o, o
      ],

      // knight
      [
         -63, -10, -10,   9,  13, -12, -10, -20,   o, o, o, o, o, o, o, o,
          13,  50,  22, -48,  28,   8,   4, -10,   o, o, o, o, o, o, o, o,
          31,  47,  63,  -5, -35, -22,  58,  15,   o, o, o, o, o, o, o, o,
          35,  19,  63,  -8,  -2, -42,  58,  19,   o, o, o, o, o, o, o, o,
         -57, -33, -39,  27,  37,  48,  38,  43,   o, o, o, o, o, o, o, o,
         -35, -46, -43,  44,  44, -32,  54,  32,   o, o, o, o, o, o, o, o,
         -50,  15,  18, -48,  15, -25,  35,  40,   o, o, o, o, o, o, o, o,
         -20, -63, -39,  27, -63,  23,  42, -20,   o, o, o, o, o, o, o, o
      ],

      // bishop
      [
          20, -20, -13,  37, -19, -21, -20, -10,   o, o, o, o, o, o, o, o,
         -50,  41,  53,   3, -53, -21, -18,  27,   o, o, o, o, o, o, o, o,
         -58,  49, -53,  41, -22, -53, -49,  37,   o, o, o, o, o, o, o, o,
         -14, -43,  41,  19, -44,  49,  63, -22,   o, o, o, o, o, o, o, o,
          43,  45,  54,  61, -31, -14,  35, -60,   o, o, o, o, o, o, o, o,
         -61, -53,  25,   0,  50, -53,  52, -62,   o, o, o, o, o, o, o, o,
          42,  27,  41,  50,  21,  58,  47,  20,   o, o, o, o, o, o, o, o,
          33,  43, -57,  27,  11,  43,  -6,  42,   o, o, o, o, o, o, o, o
      ],

      // rook
      [
           6, -15,  49,  11, -14, -45,  32, -13,   o, o, o, o, o, o, o, o,
          47,  27,  24,  51,  20,  63,  45,   3,   o, o, o, o, o, o, o, o,
          -4,  20,  37,  47,  16, -20,  38,  -9,   o, o, o, o, o, o, o, o,
         -47,  26, -36, -43, -11, -45,  13,  14,   o, o, o, o, o, o, o, o,
           6,  28,  51, -42,  28,  24, -46,  22,   o, o, o, o, o, o, o, o,
          31, -12,  17, -36,  46,  50,   2, -36,   o, o, o, o, o, o, o, o,
         -42,   1, -33,  -2,  37, -53, -50,   6,   o, o, o, o, o, o, o, o,
          -7, -27, -52,  39,  39,  44,  37, -24,   o, o, o, o, o, o, o, o
      ],

      // queen
      [
         -62,  -3, -16,   8, -39, -44, -10,  14,   o, o, o, o, o, o, o, o,
          39, -48,  46, -52,   3,  50,  34,  35,   o, o, o, o, o, o, o, o,
         -21, -52, -24, -45,  21,  25, -37,  38,   o, o, o, o, o, o, o, o,
          37, -49,   5, -40,  40,  49,  32,  42,   o, o, o, o, o, o, o, o,
         -63,  17, -10, -14, -40,  -5, -53,  13,   o, o, o, o, o, o, o, o,
         -59,  53,  58,  58,  13,  58,  53, -46,   o, o, o, o, o, o, o, o,
          42, -53, -11, -53,  26,  23,  31, -10,   o, o, o, o, o, o, o, o,
          26,  42, -37, -33,  12, -63,  22, -67,   o, o, o, o, o, o, o, o
      ],

      // king
      [
         -20, -20, -20, -20, -20, -20, -20, -20,   o, o, o, o, o, o, o, o,
         -20, -12, -32, -12, -11, -17,  -9, -20,   o, o, o, o, o, o, o, o,
         -60, -38, -20,   5, -23, -22, -63, -20,   o, o, o, o, o, o, o, o,
         -28,   2, -12, -24, -18,  -5, -33, -32,   o, o, o, o, o, o, o, o,
         -20, -35, -16, -29, -39,   8, -17, -20,   o, o, o, o, o, o, o, o,
         -20, -15, -24, -11, -17, -39, -21, -64,   o, o, o, o, o, o, o, o,
         -73,  21, -19, -50,  16, -11, -64, -52,   o, o, o, o, o, o, o, o,
         -16,  31,  30,  30, -16,   2,  21,  -4,   o, o, o, o, o, o, o, o
      ]
    ],

    // endgame phase score
    [
      // pawn
      [
           0,   0,   0,   0,   0,   0,   0,   0,   o, o, o, o, o, o, o, o,
          29, 115,  65,  40,  37,  71,  61, 117,   o, o, o, o, o, o, o, o,
         105,  87,  86, 122,  74,  52,  31,  17,   o, o, o, o, o, o, o, o,
          13,  23,  49,  17,  67,  36,  47,  41,   o, o, o, o, o, o, o, o,
          74,  64,  90,  25,  38,   6,  90,   9,   o, o, o, o, o, o, o, o,
          44,  38,  38,  67,  28,  33,  36,  47,   o, o, o, o, o, o, o, o,
          -3,  61,  79, -11,  13,  65,  61,   5,   o, o, o, o, o, o, o, o,
           0,   0,   0,   0,   0,   0,   0,   0,   o, o, o, o, o, o, o, o
      ],

      // knight
      [
         -32, -10, -10,  38,  18,  -9, -10, -20,   o, o, o, o, o, o, o, o,
          14,  35,  55, -13,  30, -38, -18, -10,   o, o, o, o, o, o, o, o,
          35,  26,  58, -43,  12,  28, -48,  10,   o, o, o, o, o, o, o, o,
          -8, -13,  60,   4,  33, -43,  54,   8,   o, o, o, o, o, o, o, o,
         -49, -41,  47, -16, -28,  45,  50,   7,   o, o, o, o, o, o, o, o,
           8,  41, -31,  56, -22,  50,  49,  21,   o, o, o, o, o, o, o, o,
         -34,  12,  37, -19,  24,   8, -26,  -6,   o, o, o, o, o, o, o, o,
         -20, -10, -59, -25, -21,  30,  31, -20,   o, o, o, o, o, o, o, o
      ],

      // bishop
      [
          12, -41,  43,  23, -40, -29, -44, -20,   o, o, o, o, o, o, o, o,
          -5,  54,  17, -48,  41, -29,  57,  42,   o, o, o, o, o, o, o, o,
         -11, -25,   6,  59, -31,  55, -48, -26,   o, o, o, o, o, o, o, o,
          34, -47,  49,  55, -10,  58,  15, -20,   o, o, o, o, o, o, o, o,
          39,  33,   5,  67, -11,  25,  25, -55,   o, o, o, o, o, o, o, o,
          34, -43,  25,  44,  19, -31, -35, -12,   o, o, o, o, o, o, o, o,
          -8,   8,  57,  54,   2,   2, -25, -12,   o, o, o, o, o, o, o, o,
          26,  43, -36,  37, -14, -12,  24,  -9,   o, o, o, o, o, o, o, o
      ],

      // rook
      [
          31, -61, -14, -38, -54, -59,  38, -21,   o, o, o, o, o, o, o, o,
          27,  18,  33,   7,  -4,  15,  22, -55,   o, o, o, o, o, o, o, o,
         -31,  41,  48,   6,  -9, -37,  56,  18,   o, o, o, o, o, o, o, o,
         -46,  56,   7, -19, -12,  -1,  -2,  32,   o, o, o, o, o, o, o, o,
         -54,  53,  23, -13,  66,   0, -48,   1,   o, o, o, o, o, o, o, o,
           8,  -8,  41, -11,  46,  61,  -8, -44,   o, o, o, o, o, o, o, o,
          -2, -29,  -8,   6,  46, -30, -47,  14,   o, o, o, o, o, o, o, o,
           1, -31, -28, -14,  -4,   6,  17, -21,   o, o, o, o, o, o, o, o
      ],

      // queen
      [
          -6,  11,  15,  30, -25, -50, -10,  -2,   o, o, o, o, o, o, o, o,
          -6, -25,  27, -21,  13,  38,   9,  -8,   o, o, o, o, o, o, o, o,
         -20,  -1,  33, -28,  22,  19, -14,  30,   o, o, o, o, o, o, o, o,
          13, -37,   3, -35,   8,   6, -29,   3,   o, o, o, o, o, o, o, o,
           5,  36,  22,  -2, -36, -19, -24, -19,   o, o, o, o, o, o, o, o,
         -18,  22,  -1,  -7,  18,  36,  17,  -3,   o, o, o, o, o, o, o, o,
         -12, -39,  12,   6,  -7, -28,  41, -10,   o, o, o, o, o, o, o, o,
          -6,  23, -12, -19,  -1, -47,   2, -20,   o, o, o, o, o, o, o, o
      ],

      // king
      [
         -20, -10, -10, -10, -10, -10, -10, -20,   o, o, o, o, o, o, o, o,
         -10,  29, -28,  37,  36, -20, -32, -10,   o, o, o, o, o, o, o, o,
         -55, -42,  10,  44,  63, -43, -29, -10,   o, o, o, o, o, o, o, o,
         -33,  53, -26,   1, -33,  55, -48, -54,   o, o, o, o, o, o, o, o,
         -63,  14,   8,  -5, -33,  17, -11, -19,   o, o, o, o, o, o, o, o,
         -10,  42, -34,  38,  58,   9, -22, -35,   o, o, o, o, o, o, o, o,
         -41,  39,  33,  18,  46,  12,  -7, -20,   o, o, o, o, o, o, o, o,
         -23,  16,  25,  33,   4,  37, -21, -12,   o, o, o, o, o, o, o, o
      ]
    ]
  ];
