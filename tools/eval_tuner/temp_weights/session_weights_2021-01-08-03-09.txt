  const openingPhaseScore = 5598;
  const endgamePhaseScore = 600;

  // material score
  const materialWeights = [
    // opening material score
    [0, 98, 296, 300, 496, 902, 19999, -101, -284, -315, -505, -889, -20000],

    // endgame material score
    [0, 94, 302, 301, 493, 910, 19999, -101, -293, -307, -497, -886, -20003]

  ];

  // piece-square tables
  const pst = [
    // opening phase scores
    [
      // pawn
      [
           0,   0,   0,   0,   0,   0,   0,   0,   o, o, o, o, o, o, o, o,
          28,  46,  54,  36,  37,  67,  32,  58,   o, o, o, o, o, o, o, o,
          27,  47,  43,  61,  12,  40,  40, -27,   o, o, o, o, o, o, o, o,
         -27, -18,   0,  46,  18,   1, -14,  23,   o, o, o, o, o, o, o, o,
          23,  10,  33,  -8,  -5, -10,  23, -24,   o, o, o, o, o, o, o, o,
         -22, -22,  15,   5,  15, -20,  14,  -2,   o, o, o, o, o, o, o, o,
           6,  32,  22,  28,  28,  12,  26,   4,   o, o, o, o, o, o, o, o,
           0,   0,   0,   0,   0,   0,   0,   0,   o, o, o, o, o, o, o, o
      ],

      // knight
      [
         -41, -10, -10,   1,   5, -10, -10, -20,   o, o, o, o, o, o, o, o,
           1,  29,  15, -23,  14,   4,   5, -10,   o, o, o, o, o, o, o, o,
          13,  28,  38,   3, -14,  -7,  33,   3,   o, o, o, o, o, o, o, o,
          15,  11,  38,   7,   5, -18,  33,   6,   o, o, o, o, o, o, o, o,
         -36, -17, -18,  23,  35,  30,  21,  18,   o, o, o, o, o, o, o, o,
         -14, -21, -18,  29,  27, -17,  33,  12,   o, o, o, o, o, o, o, o,
         -25,  10,  21, -23,  10, -14,  21,  16,   o, o, o, o, o, o, o, o,
         -20, -38, -24,   9, -38,  12,  18, -20,   o, o, o, o, o, o, o, o
      ],

      // bishop
      [
          -1, -16, -11,  16, -15, -14, -17, -10,   o, o, o, o, o, o, o, o,
         -34,  21,  28,   3, -28, -11,  -4,  12,   o, o, o, o, o, o, o, o,
         -37,  24, -28,  20, -14, -28, -25,  16,   o, o, o, o, o, o, o, o,
         -17, -18,  23,  11, -22,  28,  38, -16,   o, o, o, o, o, o, o, o,
          18,  22,  39,  38, -12,   2,  18, -36,   o, o, o, o, o, o, o, o,
         -37, -28,  16,  -3,  34, -28,  28, -37,   o, o, o, o, o, o, o, o,
          18,  17,  29,  32,  16,  33,  37,   4,   o, o, o, o, o, o, o, o,
           8,  18, -37,  10,   2,  18,  -9,  17,   o, o, o, o, o, o, o, o
      ],

      // rook
      [
           6, -11,  25,   7,  -9, -23,  16,  -5,   o, o, o, o, o, o, o, o,
          36,  20,  20,  36,  21,  44,  42,  16,   o, o, o, o, o, o, o, o,
           0,  13,  21,  25,  11, -12,  20,  -3,   o, o, o, o, o, o, o, o,
         -24,  14, -20, -21,  -8, -22,   6,   0,   o, o, o, o, o, o, o, o,
           1,  17,  28, -22,  15,  12, -23,  15,   o, o, o, o, o, o, o, o,
          16,  -4,  12, -21,  25,  26,   5, -19,   o, o, o, o, o, o, o, o,
         -22,  -2, -18,   0,  23, -28, -28,   3,   o, o, o, o, o, o, o, o,
          -4, -16, -28,  29,  26,  26,  19, -17,   o, o, o, o, o, o, o, o
      ],

      // queen
      [
         -39,  -5,  -8,   4, -27, -26, -10,  -2,   o, o, o, o, o, o, o, o,
          16, -25,  23, -27,   0,  26,  19,  13,   o, o, o, o, o, o, o, o,
         -16, -28, -10, -20,  18,  20, -20,  15,   o, o, o, o, o, o, o, o,
          15, -26,   4, -18,  25,  30,  16,  18,   o, o, o, o, o, o, o, o,
         -38,   9, -11,   0, -16,  -4, -28,   6,   o, o, o, o, o, o, o, o,
         -36,  28,  33,  33,  15,  33,  28, -29,   o, o, o, o, o, o, o, o,
          17, -28,  -8, -28,  14,   6,  17, -10,   o, o, o, o, o, o, o, o,
           5,  18, -28, -20,   1, -38,   9, -44,   o, o, o, o, o, o, o, o
      ],

      // king
      [
         -20, -20, -20, -20, -20, -20, -20, -20,   o, o, o, o, o, o, o, o,
         -20, -16, -29, -14, -14, -19, -17, -20,   o, o, o, o, o, o, o, o,
         -41, -27, -20,  -7, -21, -20, -44, -20,   o, o, o, o, o, o, o, o,
         -29,  -8, -19, -25, -21, -11, -27, -27,   o, o, o, o, o, o, o, o,
         -20, -26, -16, -24, -31,  -6, -20, -21,   o, o, o, o, o, o, o, o,
         -20, -20, -22, -19, -17, -29, -20, -46,   o, o, o, o, o, o, o, o,
         -48,  -1, -28, -42,  -3, -22, -44, -39,   o, o, o, o, o, o, o, o,
         -18,   8,  27,   6, -21, -13,  21, -10,   o, o, o, o, o, o, o, o
      ]
    ],

    // endgame phase score
    [
      // pawn
      [
           0,   0,   0,   0,   0,   0,   0,   0,   o, o, o, o, o, o, o, o,
          53, 101,  76,  58,  56,  76,  68,  98,   o, o, o, o, o, o, o, o,
          91,  81,  81,  98,  76,  60,  49,  42,   o, o, o, o, o, o, o, o,
          33,  37,  51,  34,  62,  49,  51,  50,   o, o, o, o, o, o, o, o,
          66,  57,  71,  36,  42,  27,  70,  24,   o, o, o, o, o, o, o, o,
          40,  38,  40,  57,  33,  32,  38,  44,   o, o, o, o, o, o, o, o,
          14,  45,  57,  11,  19,  53,  52,  16,   o, o, o, o, o, o, o, o,
           0,   0,   0,   0,   0,   0,   0,   0,   o, o, o, o, o, o, o, o
      ],

      // knight
      [
         -26, -10, -10,  15,   8,  -8, -10, -20,   o, o, o, o, o, o, o, o,
           3,  19,  32,  -4,  21, -22,   3, -10,   o, o, o, o, o, o, o, o,
          14,  17,  36, -18,  12,  18, -23,   0,   o, o, o, o, o, o, o, o,
         -10,  -8,  37,   7,  27, -18,  31,   2,   o, o, o, o, o, o, o, o,
         -33, -19,  31,  -3,  -5,  29,  31,  -2,   o, o, o, o, o, o, o, o,
          -7,  26, -12,  36,  -4,  30,  28,   8,   o, o, o, o, o, o, o, o,
         -24,   1,  23, -12,  15,   2, -13,  -8,   o, o, o, o, o, o, o, o,
         -20, -11, -35, -14, -16,  12,  12, -20,   o, o, o, o, o, o, o, o
      ],

      // bishop
      [
          -3, -26,  18,   7, -25,  -9, -32, -20,   o, o, o, o, o, o, o, o,
         -12,  30,  14, -23,  28, -18,  33,  17,   o, o, o, o, o, o, o, o,
         -10, -11,  10,  37, -12,  30, -23, -18,   o, o, o, o, o, o, o, o,
          15, -22,  30,  38,   7,  37,  14, -19,   o, o, o, o, o, o, o, o,
          15,  19,   5,  45,   5,  22,  18, -35,   o, o, o, o, o, o, o, o,
          13, -23,  18,  28,  16, -13, -16, -11,   o, o, o, o, o, o, o, o,
          -6,  13,  33,  31,   5,   2, -12, -11,   o, o, o, o, o, o, o, o,
           4,  18, -23,  16, -10,  -9,   8, -14,   o, o, o, o, o, o, o, o
      ],

      // rook
      [
           6, -38, -13, -29, -37, -35,  16, -24,   o, o, o, o, o, o, o, o,
           9,   6,  22,   8,   0,   9,  14, -32,   o, o, o, o, o, o, o, o,
         -25,  24,  32,   6,  -2, -12,  33,   6,   o, o, o, o, o, o, o, o,
         -29,  32,   7,  -2,   3,   6,   1,  11,   o, o, o, o, o, o, o, o,
         -35,  30,  20,   0,  45,  -2, -23,  -1,   o, o, o, o, o, o, o, o,
           0,   0,  28,  -3,  32,  38,  -5, -29,   o, o, o, o, o, o, o, o,
          -7, -14,   0,  10,  28, -15, -22,   6,   o, o, o, o, o, o, o, o,
          -6, -23, -24, -14,  -7,   2,   7, -23,   o, o, o, o, o, o, o, o
      ],

      // queen
      [
         -13,   5,   5,  11, -15, -34, -10, -12,   o, o, o, o, o, o, o, o,
          -2, -14,  17, -11,  11,  23,   7,  -8,   o, o, o, o, o, o, o, o,
         -13,  -1,  19, -13,  12,   8,  -6,  10,   o, o, o, o, o, o, o, o,
           4, -19,   3, -14,   9,   9, -14,  -1,   o, o, o, o, o, o, o, o,
          -2,  20,  12,   3, -17, -11, -11, -16,   o, o, o, o, o, o, o, o,
         -15,  12,   9,  -1,  12,  24,   9,  -6,   o, o, o, o, o, o, o, o,
         -13, -23,   7,   1,   3, -10,  22, -10,   o, o, o, o, o, o, o, o,
         -12,   8, -12, -14,  -1, -32,  -3, -20,   o, o, o, o, o, o, o, o
      ],

      // king
      [
         -20, -10, -10, -10, -10, -10, -10, -20,   o, o, o, o, o, o, o, o,
         -10,  19, -13,  24,  22,  -7,  -8, -10,   o, o, o, o, o, o, o, o,
         -36, -19,  10,  29,  38, -18,  -9, -10,   o, o, o, o, o, o, o, o,
         -27,  29, -16,   9,  -8,  35, -23, -30,   o, o, o, o, o, o, o, o,
         -38,   6,   5,   1,  -8,  15,  -3, -18,   o, o, o, o, o, o, o, o,
         -10,  25, -13,  26,  35,   9, -15, -24,   o, o, o, o, o, o, o, o,
         -25,  22,  19,  10,  27,  12,  -3, -13,   o, o, o, o, o, o, o, o,
         -23,   5,   9,  15,   0,  17, -16, -15,   o, o, o, o, o, o, o, o
      ]
    ]
  ];
