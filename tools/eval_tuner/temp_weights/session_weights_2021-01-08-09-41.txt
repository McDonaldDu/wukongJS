  const openingPhaseScore = 5586;
  const endgamePhaseScore = 601;

  // material score
  const materialWeights = [
    // opening material score
    [0, 98, 294, 300, 496, 902, 19999, -101, -270, -328, -509, -884, -19998],

    // endgame material score
    [0, 92, 303, 303, 492, 912, 20000, -99, -289, -312, -496, -878, -20003]

  ];

  // piece-square tables
  const pst = [
    // opening phase scores
    [
      // pawn
      [
           0,   0,   0,   0,   0,   0,   0,   0,   o, o, o, o, o, o, o, o,
           8,  44,  60,  25,  18,  82,  20,  58,   o, o, o, o, o, o, o, o,
          59,  80,  70,  82, -20,  59,  59, -59,   o, o, o, o, o, o, o, o,
         -53, -52,  -5,  63,  15,  -5, -44,  54,   o, o, o, o, o, o, o, o,
          51,  21,  66, -42, -31, -22,  45, -45,   o, o, o, o, o, o, o, o,
         -38, -44,  39,   7,  34, -37,  28,  -7,   o, o, o, o, o, o, o, o,
          -3,  54,  24,  62,  61,   4,  49,   9,   o, o, o, o, o, o, o, o,
           0,   0,   0,   0,   0,   0,   0,   0,   o, o, o, o, o, o, o, o
      ],

      // knight
      [
         -71, -10, -10,  13,  12, -13, -10, -20,   o, o, o, o, o, o, o, o,
          17,  59,  25, -57,  35,   7,   1, -10,   o, o, o, o, o, o, o, o,
          39,  55,  72,  -7, -44, -29,  67,  19,   o, o, o, o, o, o, o, o,
          41,  20,  72, -14,  -5, -51,  67,  24,   o, o, o, o, o, o, o, o,
         -64, -41, -46,  25,  38,  57,  42,  52,   o, o, o, o, o, o, o, o,
         -43, -54, -52,  50,  50, -34,  62,  39,   o, o, o, o, o, o, o, o,
         -59,  18,  12, -57,  19, -28,  38,  46,   o, o, o, o, o, o, o, o,
         -20, -72, -41,  34, -72,  27,  49, -20,   o, o, o, o, o, o, o, o
      ],

      // bishop
      [
          26, -23, -14,  46, -21, -23, -21, -10,   o, o, o, o, o, o, o, o,
         -54,  44,  62,   3, -62, -25, -12,  33,   o, o, o, o, o, o, o, o,
         -63,  58, -62,  49, -22, -62, -55,  43,   o, o, o, o, o, o, o, o,
         -11, -52,  46,  21, -53,  57,  72, -23,   o, o, o, o, o, o, o, o,
          52,  51,  56,  70, -36, -20,  43, -69,   o, o, o, o, o, o, o, o,
         -68, -62,  29,   2,  56, -62,  61, -70,   o, o, o, o, o, o, o, o,
          50,  29,  47,  54,  24,  67,  48,  24,   o, o, o, o, o, o, o, o,
          42,  52, -63,  34,  17,  51,  -3,  51,   o, o, o, o, o, o, o, o
      ],

      // rook
      [
          10, -14,  58,  16, -17, -53,  36, -13,   o, o, o, o, o, o, o, o,
          49,  31,  23,  57,  17,  72,  51,   1,   o, o, o, o, o, o, o, o,
          -7,  28,  43,  56,  17, -25,  44,  -3,   o, o, o, o, o, o, o, o,
         -54,  28, -43, -51, -14, -52,  18,  18,   o, o, o, o, o, o, o, o,
          10,  35,  59, -51,  34,  27, -55,  27,   o, o, o, o, o, o, o, o,
          36, -13,  25, -38,  52,  58,   0, -43,   o, o, o, o, o, o, o, o,
         -47,   2, -37,  -6,  40, -62, -57,   2,   o, o, o, o, o, o, o, o,
          -8, -29, -60,  43,  42,  51,  42, -23,   o, o, o, o, o, o, o, o
      ],

      // queen
      [
         -68,  -5, -16,  13, -44, -49, -10,  18,   o, o, o, o, o, o, o, o,
          43, -57,  55, -61,   1,  59,  41,  42,   o, o, o, o, o, o, o, o,
         -20, -61, -31, -54,  19,  27, -43,  46,   o, o, o, o, o, o, o, o,
          44, -57,   6, -49,  44,  58,  36,  51,   o, o, o, o, o, o, o, o,
         -72,  21, -14, -22, -49, -10, -62,  21,   o, o, o, o, o, o, o, o,
         -68,  62,  67,  67,  14,  67,  62, -52,   o, o, o, o, o, o, o, o,
          48, -61, -11, -62,  31,  27,  34, -10,   o, o, o, o, o, o, o, o,
          35,  51, -41, -36,  15, -72,  27, -72,   o, o, o, o, o, o, o, o
      ],

      // king
      [
         -20, -20, -20, -20, -20, -20, -20, -20,   o, o, o, o, o, o, o, o,
         -20,  -8, -32, -12, -10, -18,  -4, -20,   o, o, o, o, o, o, o, o,
         -67, -38, -20,   9, -23, -19, -70, -20,   o, o, o, o, o, o, o, o,
         -28,   7, -13, -23, -13,  -1, -36, -33,   o, o, o, o, o, o, o, o,
         -20, -42, -12, -35, -44,  14, -15, -20,   o, o, o, o, o, o, o, o,
         -20, -13, -22,  -7, -19, -41, -21, -71,   o, o, o, o, o, o, o, o,
         -80,  28, -18, -53,  24, -10, -73, -58,   o, o, o, o, o, o, o, o,
         -13,  39,  30,  38, -12,   9,  21,   0,   o, o, o, o, o, o, o, o
      ]
    ],

    // endgame phase score
    [
      // pawn
      [
           0,   0,   0,   0,   0,   0,   0,   0,   o, o, o, o, o, o, o, o,
          20, 122,  64,  32,  30,  71,  60, 122,   o, o, o, o, o, o, o, o,
         111,  88,  88, 131,  73,  52,  22,   8,   o, o, o, o, o, o, o, o,
           5,  16,  47,   8,  69,  30,  47,  37,   o, o, o, o, o, o, o, o,
          77,  65,  97,  22,  35,  -1,  94,   6,   o, o, o, o, o, o, o, o,
          43,  37,  40,  70,  27,  33,  33,  47,   o, o, o, o, o, o, o, o,
          -7,  65,  87, -20,  10,  68,  64,   4,   o, o, o, o, o, o, o, o,
           0,   0,   0,   0,   0,   0,   0,   0,   o, o, o, o, o, o, o, o
      ],

      // knight
      [
         -35, -10, -10,  46,  17, -13, -10, -20,   o, o, o, o, o, o, o, o,
          22,  40,  64, -21,  35, -44, -23, -10,   o, o, o, o, o, o, o, o,
          44,  29,  67, -52,  10,  30, -57,  12,   o, o, o, o, o, o, o, o,
          -6, -19,  68,   4,  30, -52,  62,   8,   o, o, o, o, o, o, o, o,
         -55, -48,  53, -20, -35,  52,  58,  10,   o, o, o, o, o, o, o, o,
          10,  45, -37,  65, -29,  57,  55,  28,   o, o, o, o, o, o, o, o,
         -39,  16,  43, -22,  28,   9, -29,  -6,   o, o, o, o, o, o, o, o,
         -20, -14, -67, -27, -22,  35,  39, -20,   o, o, o, o, o, o, o, o
      ],

      // bishop
      [
          17, -45,  52,  28, -48, -38, -50, -20,   o, o, o, o, o, o, o, o,
          -2,  49,  14, -57,  49, -35,  66,  51,   o, o, o, o, o, o, o, o,
         -12, -29,   8,  68, -39,  63, -46, -31,   o, o, o, o, o, o, o, o,
          43, -56,  56,  62, -16,  65,  15, -26,   o, o, o, o, o, o, o, o,
          48,  38,   0,  75, -18,  27,  27, -63,   o, o, o, o, o, o, o, o,
          42, -52,  29,  47,  19, -37, -44, -11,   o, o, o, o, o, o, o, o,
          -6,   7,  66,  61,   0,   1, -32, -12,   o, o, o, o, o, o, o, o,
          35,  52, -39,  42,  -8, -15,  29,  -8,   o, o, o, o, o, o, o, o
      ],

      // rook
      [
          40, -69, -15, -42, -61, -68,  47, -21,   o, o, o, o, o, o, o, o,
          33,  19,  38,   8,  -6,  17,  23, -63,   o, o, o, o, o, o, o, o,
         -37,  46,  55,   4,  -9, -45,  64,  24,   o, o, o, o, o, o, o, o,
         -52,  63,   9, -24, -20,  -6,  -2,  41,   o, o, o, o, o, o, o, o,
         -59,  61,  23, -16,  72,   2, -56,   3,   o, o, o, o, o, o, o, o,
          10, -11,  49, -13,  54,  70,  -8, -53,   o, o, o, o, o, o, o, o,
           5, -33,  -9,   4,  52, -34, -54,  18,   o, o, o, o, o, o, o, o,
           4, -35, -31, -14,  -4,   7,  20, -24,   o, o, o, o, o, o, o, o
      ],

      // queen
      [
          -6,   6,  20,  38, -31, -57, -10,   1,   o, o, o, o, o, o, o, o,
          -6, -28,  35, -25,  16,  41,  12,  -7,   o, o, o, o, o, o, o, o,
         -20,   4,  34, -33,  24,  22, -15,  38,   o, o, o, o, o, o, o, o,
          17, -45,   2, -41,  12,   2, -32,   5,   o, o, o, o, o, o, o, o,
           8,  40,  25,  -4, -43, -25, -28, -19,   o, o, o, o, o, o, o, o,
         -17,  26,  -4,  -8,  21,  41,  20,  -1,   o, o, o, o, o, o, o, o,
         -12, -44,  17,   5,  -5, -32,  47, -10,   o, o, o, o, o, o, o, o,
          -3,  27, -13, -20,  -3, -47,   3, -20,   o, o, o, o, o, o, o, o
      ],

      // king
      [
         -20, -10, -10, -10, -10, -10, -10, -20,   o, o, o, o, o, o, o, o,
         -10,  33, -35,  44,  40, -27, -41, -10,   o, o, o, o, o, o, o, o,
         -63, -50,  10,  49,  72, -52, -34, -10,   o, o, o, o, o, o, o, o,
         -34,  62, -28,  -3, -42,  63, -57, -61,   o, o, o, o, o, o, o, o,
         -72,  19,   9, -13, -42,  18, -15, -22,   o, o, o, o, o, o, o, o,
         -10,  50, -43,  44,  66,   9, -25, -38,   o, o, o, o, o, o, o, o,
         -44,  46,  37,  22,  52,  13,  -9, -21,   o, o, o, o, o, o, o, o,
         -26,  18,  31,  39,   7,  44, -21,  -9,   o, o, o, o, o, o, o, o
      ]
    ]
  ];
