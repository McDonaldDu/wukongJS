  const openingPhaseScore = 5585;
  const endgamePhaseScore = 601;

  // material score
  const materialWeights = [
    // opening material score
    [0, 98, 294, 300, 496, 902, 19999, -101, -269, -329, -508, -885, -19998],

    // endgame material score
    [0, 92, 303, 304, 491, 912, 20000, -99, -288, -312, -495, -876, -20005]

  ];

  // piece-square tables
  const pst = [
    // opening phase scores
    [
      // pawn
      [
           0,   0,   0,   0,   0,   0,   0,   0,   o, o, o, o, o, o, o, o,
           5,  40,  58,  22,  14,  87,  17,  60,   o, o, o, o, o, o, o, o,
          67,  88,  76,  87, -28,  64,  64, -67,   o, o, o, o, o, o, o, o,
         -58, -60,  -4,  66,  14, -11, -52,  61,   o, o, o, o, o, o, o, o,
          57,  23,  74, -50, -35, -26,  50, -52,   o, o, o, o, o, o, o, o,
         -43, -49,  43,   7,  40, -39,  32, -11,   o, o, o, o, o, o, o, o,
          -5,  58,  25,  70,  68,   1,  54,  13,   o, o, o, o, o, o, o, o,
           0,   0,   0,   0,   0,   0,   0,   0,   o, o, o, o, o, o, o, o
      ],

      // knight
      [
         -77, -10, -10,  16,  13, -13, -10, -20,   o, o, o, o, o, o, o, o,
          21,  64,  26, -65,  41,  12,  -5, -10,   o, o, o, o, o, o, o, o,
          47,  61,  80,  -7, -50, -34,  75,  24,   o, o, o, o, o, o, o, o,
          48,  23,  80, -21,  -4, -59,  75,  26,   o, o, o, o, o, o, o, o,
         -72, -42, -53,  23,  40,  64,  44,  60,   o, o, o, o, o, o, o, o,
         -48, -62, -60,  56,  54, -35,  70,  46,   o, o, o, o, o, o, o, o,
         -67,  20,  13, -65,  21, -33,  43,  51,   o, o, o, o, o, o, o, o,
         -20, -80, -44,  39, -80,  32,  55, -20,   o, o, o, o, o, o, o, o
      ],

      // bishop
      [
          34, -25, -16,  51, -23, -26, -21, -10,   o, o, o, o, o, o, o, o,
         -58,  49,  70,   3, -70, -30, -14,  36,   o, o, o, o, o, o, o, o,
         -70,  66, -70,  55, -24, -70, -60,  51,   o, o, o, o, o, o, o, o,
          -7, -60,  53,  23, -56,  62,  80, -24,   o, o, o, o, o, o, o, o,
          60,  59,  60,  77, -42, -25,  49, -76,   o, o, o, o, o, o, o, o,
         -76, -70,  35,   5,  61, -70,  69, -77,   o, o, o, o, o, o, o, o,
          58,  34,  53,  59,  24,  74,  49,  29,   o, o, o, o, o, o, o, o,
          50,  60, -68,  39,  19,  59,  -2,  59,   o, o, o, o, o, o, o, o
      ],

      // rook
      [
          12, -15,  65,  15, -20, -59,  43, -14,   o, o, o, o, o, o, o, o,
          52,  32,  22,  60,  14,  77,  52,  -1,   o, o, o, o, o, o, o, o,
          -6,  33,  48,  63,  20, -23,  46,  -7,   o, o, o, o, o, o, o, o,
         -59,  32, -49, -58, -12, -60,  18,  20,   o, o, o, o, o, o, o, o,
          13,  36,  67, -57,  39,  29, -62,  29,   o, o, o, o, o, o, o, o,
          40, -13,  26, -43,  59,  66,  -2, -47,   o, o, o, o, o, o, o, o,
         -55,   4, -42,  -8,  47, -70, -65,   0,   o, o, o, o, o, o, o, o,
         -11, -29, -67,  45,  47,  55,  45, -25,   o, o, o, o, o, o, o, o
      ],

      // queen
      [
         -71, -10, -20,  16, -49, -53, -10,  25,   o, o, o, o, o, o, o, o,
          50, -65,  62, -69,   1,  67,  44,  50,   o, o, o, o, o, o, o, o,
         -15, -68, -32, -62,  21,  28, -49,  53,   o, o, o, o, o, o, o, o,
          51, -63,   7, -57,  51,  65,  37,  59,   o, o, o, o, o, o, o, o,
         -80,  23, -15, -28, -57, -11, -70,  24,   o, o, o, o, o, o, o, o,
         -76,  70,  75,  75,  14,  75,  70, -57,   o, o, o, o, o, o, o, o,
          55, -69, -12, -70,  35,  30,  38, -10,   o, o, o, o, o, o, o, o,
          43,  59, -48, -37,  20, -80,  31, -80,   o, o, o, o, o, o, o, o
      ],

      // king
      [
         -20, -20, -20, -20, -20, -20, -20, -20,   o, o, o, o, o, o, o, o,
         -20,  -5, -34, -14,  -9, -16,  -3, -20,   o, o, o, o, o, o, o, o,
         -73, -39, -20,  11, -23, -18, -78, -20,   o, o, o, o, o, o, o, o,
         -27,  12, -12, -23, -13,   1, -38, -34,   o, o, o, o, o, o, o, o,
         -20, -48, -12, -33, -47,  21, -16, -17,   o, o, o, o, o, o, o, o,
         -20, -13, -23,  -5, -22, -45, -20, -78,   o, o, o, o, o, o, o, o,
         -88,  36, -13, -55,  31,  -7, -80, -62,   o, o, o, o, o, o, o, o,
         -14,  46,  34,  45, -11,  14,  21,   2,   o, o, o, o, o, o, o, o
      ]
    ],

    // endgame phase score
    [
      // pawn
      [
           0,   0,   0,   0,   0,   0,   0,   0,   o, o, o, o, o, o, o, o,
          12, 128,  61,  24,  25,  68,  56, 129,   o, o, o, o, o, o, o, o,
         117,  91,  91, 138,  70,  49,  14,   0,   o, o, o, o, o, o, o, o,
          -1,  10,  45,   1,  70,  25,  48,  32,   o, o, o, o, o, o, o, o,
          80,  62, 102,  20,  33,  -7,  99,   5,   o, o, o, o, o, o, o, o,
          44,  38,  38,  72,  23,  32,  34,  47,   o, o, o, o, o, o, o, o,
         -11,  68,  94, -25,   5,  73,  68,   2,   o, o, o, o, o, o, o, o,
           0,   0,   0,   0,   0,   0,   0,   0,   o, o, o, o, o, o, o, o
      ],

      // knight
      [
         -36, -10, -10,  53,  11, -15, -10, -20,   o, o, o, o, o, o, o, o,
          25,  44,  72, -22,  41, -51, -27, -10,   o, o, o, o, o, o, o, o,
          51,  33,  75, -60,   8,  34, -65,  15,   o, o, o, o, o, o, o, o,
          -5, -21,  76,   1,  32, -60,  70,  10,   o, o, o, o, o, o, o, o,
         -61, -53,  56, -26, -42,  57,  63,  12,   o, o, o, o, o, o, o, o,
          14,  50, -42,  72, -33,  63,  63,  32,   o, o, o, o, o, o, o, o,
         -43,  19,  46, -24,  29,   9, -32,  -6,   o, o, o, o, o, o, o, o,
         -20, -15, -75, -30, -26,  40,  46, -20,   o, o, o, o, o, o, o, o
      ],

      // bishop
      [
          23, -49,  60,  32, -53, -46, -55, -20,   o, o, o, o, o, o, o, o,
           3,  47,  15, -65,  54, -38,  74,  59,   o, o, o, o, o, o, o, o,
         -11, -31,   9,  76, -45,  71, -38, -32,   o, o, o, o, o, o, o, o,
          50, -63,  62,  67, -22,  72,  14, -30,   o, o, o, o, o, o, o, o,
          56,  41,   1,  82, -23,  29,  30, -69,   o, o, o, o, o, o, o, o,
          48, -58,  31,  54,  19, -40, -50, -10,   o, o, o, o, o, o, o, o,
         -10,   4,  74,  68,  -1,   0, -32, -11,   o, o, o, o, o, o, o, o,
          43,  59, -41,  50, -10, -17,  34,  -6,   o, o, o, o, o, o, o, o
      ],

      // rook
      [
          48, -77, -13, -46, -69, -74,  55, -19,   o, o, o, o, o, o, o, o,
          39,  23,  43,   9,  -3,  14,  23, -70,   o, o, o, o, o, o, o, o,
         -43,  52,  62,   4, -16, -51,  72,  30,   o, o, o, o, o, o, o, o,
         -57,  70,   7, -30, -28, -11,  -2,  46,   o, o, o, o, o, o, o, o,
         -63,  68,  23, -20,  78,   4, -64,   2,   o, o, o, o, o, o, o, o,
          10, -15,  55, -16,  60,  78,  -6, -59,   o, o, o, o, o, o, o, o,
           6, -41,  -9,   1,  59, -38, -60,  20,   o, o, o, o, o, o, o, o,
           7, -40, -32, -13,  -6,   8,  22, -25,   o, o, o, o, o, o, o, o
      ],

      // queen
      [
          -8,   6,  24,  42, -37, -64, -10,   4,   o, o, o, o, o, o, o, o,
          -5, -30,  39, -25,  17,  45,  12,  -6,   o, o, o, o, o, o, o, o,
         -20,  11,  36, -35,  26,  26, -16,  44,   o, o, o, o, o, o, o, o,
          21, -52,   2, -48,  17,   5, -36,   9,   o, o, o, o, o, o, o, o,
          11,  40,  28,  -5, -51, -28, -32, -19,   o, o, o, o, o, o, o, o,
         -20,  28,  -9, -10,  26,  46,  24,   0,   o, o, o, o, o, o, o, o,
         -11, -51,  18,   7,  -7, -36,  51, -10,   o, o, o, o, o, o, o, o,
           1,  32, -15, -22,  -3, -51,   4, -20,   o, o, o, o, o, o, o, o
      ],

      // king
      [
         -20, -10, -10, -10, -10, -10, -10, -20,   o, o, o, o, o, o, o, o,
         -10,  37, -42,  47,  46, -30, -49, -10,   o, o, o, o, o, o, o, o,
         -70, -57,  10,  53,  80, -60, -37, -10,   o, o, o, o, o, o, o, o,
         -38,  69, -32,  -7, -50,  71, -65, -67,   o, o, o, o, o, o, o, o,
         -80,  24,  10, -14, -50,  16, -17, -20,   o, o, o, o, o, o, o, o,
         -10,  54, -51,  51,  73,  10, -28, -39,   o, o, o, o, o, o, o, o,
         -50,  53,  40,  23,  57,  14, -10, -21,   o, o, o, o, o, o, o, o,
         -25,  20,  35,  45,   9,  52, -21,  -7,   o, o, o, o, o, o, o, o
      ]
    ]
  ];
